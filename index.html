<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Project</title>
    <meta name="description" content="The ultimate gaming hub combining old games and modern ones in one easy console-like experience.">
    <link rel="icon" type="image/png" href="https://i.imgur.com/CnaYYTF.png">
    
    <!-- Open Graph / Discord Embed Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Retro Project">
    <meta property="og:description" content="The ultimate gaming hub combining old games and modern ones in one easy console-like experience.">
    <meta property="og:image" content="https://i.imgur.com/CnaYYTF.png">
    <meta property="og:url" content="https://retroproject.org">
    <meta property="og:site_name" content="Retro Project">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Retro Project">
    <meta name="twitter:description" content="The ultimate gaming hub combining old games and modern ones in one easy console-like experience.">
    <meta name="twitter:image" content="https://i.imgur.com/CnaYYTF.png">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Orbitron:wght@400;700;900&family=Cairo:wght@400;600;700;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }


        /* Language transition */
        body {
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        body {
            background: #0d0d0d url('https://i.imgur.com/Dc7CikC.jpeg') center/cover no-repeat fixed;
            min-height: 100vh;
            font-family: 'Orbitron', monospace;
            color: #e0e0e0;
            overflow-x: hidden;
            position: relative;
        }


        /* Arabic mode styles */
        body.arabic-mode {
            font-family: 'Cairo', sans-serif;
            background-image: url('https://i.imgur.com/Rw6Jial.jpeg');
        }

        /* Language transition overlay */
        /* Language transition overlay */
        .language-transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 9999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s ease-in-out;
        }

        .language-transition-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        /* Fire ember particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        body.arabic-mode .ember.small {
            background: radial-gradient(circle, #ff6b35 0%, #ff4757 50%, transparent 70%);
            box-shadow: 0 0 6px #ff6b35;
        }

        body.arabic-mode .ember.medium {
            background: radial-gradient(circle, #ffd700 0%, #ff6b35 40%, #ff4757 70%, transparent 90%);
            box-shadow: 0 0 8px #ff6b35, 0 0 12px rgba(255, 107, 53, 0.5);
        }

        body.arabic-mode .ember.large {
            background: radial-gradient(circle, #fff 0%, #ffd700 20%, #ff6b35 50%, #dc143c 80%, transparent 100%);
            box-shadow: 0 0 10px #ff6b35, 0 0 20px rgba(255, 107, 53, 0.8), 0 0 30px rgba(255, 107, 53, 0.4);
        }

        .ember {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            animation: rise infinite linear;
        }


        .ember.small {
            width: 3px;
            height: 3px;
            background: radial-gradient(circle, #ff6b35 0%, #ff4757 50%, transparent 70%);
            box-shadow: 0 0 6px #ff6b35;
        }

        .ember.medium {
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #ffd700 0%, #ff6b35 40%, #ff4757 70%, transparent 90%);
            box-shadow: 0 0 8px #ff6b35, 0 0 12px rgba(255, 107, 53, 0.5);
        }

        .ember.large {
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, #fff 0%, #ffd700 20%, #ff6b35 50%, #dc143c 80%, transparent 100%);
            box-shadow: 0 0 10px #ff6b35, 0 0 20px rgba(255, 107, 53, 0.8), 0 0 30px rgba(255, 107, 53, 0.4);
        }

        @keyframes rise {
            0% {
                transform: translateY(100vh) translateX(0px) scale(0);
                opacity: 0;
            }

            10% {
                opacity: 1;
                transform: translateY(90vh) translateX(0px) scale(1);
            }

            90% {
                opacity: 1;
                transform: translateY(-10vh) translateX(var(--drift)) scale(1);
            }

            100% {
                transform: translateY(-20vh) translateX(var(--drift)) scale(0);
                opacity: 0;
            }
        }

        /* Floating ash particles */
        .ash {
            position: absolute;
            width: 1px;
            height: 1px;
            background: rgba(128, 128, 128, 0.4);
            border-radius: 50%;
            animation: ashFloat 8s infinite ease-in-out;
        }

        body.arabic-mode .ash {
            background: rgba(184, 134, 11, 0.4);
        }

        @keyframes ashFloat {

            0%,
            100% {
                transform: translateY(100vh) translateX(0px) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.6;
            }

            90% {
                opacity: 0.3;
                transform: translateY(-10vh) translateX(var(--ash-drift)) rotate(360deg);
            }

            100% {
                transform: translateY(-20vh) translateX(var(--ash-drift)) rotate(360deg);
                opacity: 0;
            }
        }

        /* Navigation */
        .nav {
            position: fixed;
            top: 2rem;
            left: 2rem;
            display: flex;
            gap: 1rem;
            z-index: 100;
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        body.arabic-mode .nav {
            left: auto;
            right: 2rem;
            /* Remove flex-direction: row-reverse */
            animation: fadeInRight 1s ease-out;
        }



        body.arabic-mode .nav {
            animation: fadeInRight 1s ease-out;
        }



        .nav-btn {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
            border: 2px solid rgba(220, 20, 60, 0.4);
            border-radius: 10px;
            padding: 0.8rem 1.5rem;
            color: #e0e0e0;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
            text-decoration: none;
            display: inline-block;
        }

        body.arabic-mode .nav-btn {
            font-family: 'Cairo', sans-serif;
        }

        .nav-btn:hover {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.3);
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: linear-gradient(145deg, rgba(220, 20, 60, 0.2), rgba(30, 30, 30, 0.9));
            border-color: #dc143c;
        }

        /* Arabic toggle button - Gold theme */
        .nav-btn.arabic-toggle {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
            border: 2px solid rgba(184, 134, 11, 0.6);
            /* Gold border */
            border-radius: 10px;
            padding: 0.8rem 1.5rem;
            color: #e0e0e0;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
            text-decoration: none;
            display: inline-block;
            position: relative;
            overflow: hidden;
        }

        /* Hover State - Gold Glow */
        .nav-btn.arabic-toggle:hover {
            border-color: #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
            transform: translateY(-2px);
        }

        /* Active State - Gold Accent */
        .nav-btn.arabic-toggle.active {
            background: linear-gradient(145deg, rgba(184, 134, 11, 0.2), rgba(30, 30, 30, 0.9));
            border-color: #FFD700;
        }

        /* Social toggle button - Vergil blue theme */
        .nav-btn.social-toggle {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
            border: 2px solid rgba(70, 130, 180, 0.6);
            border-radius: 10px;
            padding: 0.8rem 1.5rem;
            color: #e0e0e0;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
            text-decoration: none;
            display: inline-block;
            position: relative;
            overflow: hidden;
        }

        .nav-btn.social-toggle:hover {
            border-color: #4682b4;
            box-shadow: 0 0 20px rgba(70, 130, 180, 0.3);
            transform: translateY(-2px);
        }

        .nav-btn.social-toggle.active {
            background: linear-gradient(145deg, rgba(70, 130, 180, 0.2), rgba(30, 30, 30, 0.9));
            border-color: #4682b4;
        }

        body.arabic-mode .nav-btn.social-toggle {
            font-family: 'Cairo', sans-serif;
        }

        .mute-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.8rem;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 15px rgba(70, 130, 180, 0.8)) drop-shadow(0 0 30px rgba(70, 130, 180, 0.4));
        }

        .mute-btn:hover {
            transform: scale(1.1);
        }

        .mute-btn img {
            display: block;
            transition: all 0.3s ease;
            width: 48px;
            height: 48px;
        }

        .audio-visualizer {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 3px;
            width: 32px;
            height: 32px;
            position: relative;
        }

        .audio-visualizer .bar {
            width: 4px;
            background: linear-gradient(to top, #ff6b35, #dc143c);
            border-radius: 2px;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.6));
        }

        .audio-visualizer .bar:nth-child(1) {
            height: 12px;
            animation: audioBar 1.2s ease-in-out infinite;
        }

        .audio-visualizer .bar:nth-child(2) {
            height: 20px;
            animation: audioBar 1.5s ease-in-out infinite 0.2s;
        }

        .audio-visualizer .bar:nth-child(3) {
            height: 16px;
            animation: audioBar 1.1s ease-in-out infinite 0.4s;
        }

        .audio-visualizer .bar:nth-child(4) {
            height: 24px;
            animation: audioBar 1.3s ease-in-out infinite 0.1s;
        }

        .audio-visualizer .bar:nth-child(5) {
            height: 14px;
            animation: audioBar 1.4s ease-in-out infinite 0.3s;
        }

        @keyframes audioBar {

            0%,
            100% {
                transform: scaleY(0.3);
                opacity: 0.6;
            }

            50% {
                transform: scaleY(1);
                opacity: 1;
            }
        }

        .audio-visualizer .bar {
            background: linear-gradient(45deg, #DC143C, #FF4500, #FF6B35);
            box-shadow: 0 0 10px rgba(220, 20, 60, 0.6), 0 0 20px rgba(255, 69, 0, 0.4);
        }


        /* Gold Shine Animation */
        .nav-btn.arabic-toggle::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: left 0.5s;
        }

        .nav-btn.arabic-toggle:hover::before {
            left: 100%;
        }

        /* Arabic Mode - Keep Gold Borders but Match Arabic Style */
        body.arabic-mode .nav-btn.arabic-toggle {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
            border: 2px solid rgba(184, 134, 11, 0.6);
            /* Maintain gold border */
            color: #e0e0e0;
        }

        body.arabic-mode .nav-btn.arabic-toggle:hover {
            border-color: #FFD700;
            /* Keep gold on hover */
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
            transform: translateY(-2px);
        }

        body.arabic-mode .nav-btn.arabic-toggle.active {
            background: linear-gradient(145deg, rgba(184, 134, 11, 0.2), rgba(30, 30, 30, 0.9));
            border-color: #FFD700;
        }

        /* Content sections */
        .content-section {
            display: none;
            position: relative;
            z-index: 2;
            transition: opacity 0.8s ease-in-out;
        }

        .content-section.active {
            display: block;
        }

        .tier-card.animate-in,
        .game-card.animate-in,
        .feature-card,
        .screenshot-feature-card,
        .faq-item,
        .pagination-container.animate-in {
            animation: none !important;
            opacity: 1 !important;
            transform: none !important;
        }

        /* Initial page load fade in */
        body {
            opacity: 1;
            transition: opacity 1s ease-in-out;
        }

        body.loaded {
            opacity: 1;
        }

        /* Black overlay for fade in effect */
        .page-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            z-index: 9999;
            opacity: 1;
            transition: opacity 2s ease-in-out;
            pointer-events: none;
        }

        .page-overlay.fade-out {
            opacity: 0;
        }

        /* Black overlay for fade in effect */
        .page-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            z-index: 9999;
            opacity: 1;
            transition: opacity 2s ease-in-out;
            pointer-events: none;
        }

        .page-overlay.fade-out {
            opacity: 0;
        }

        /* Main content (original subscription page) */
        .main-content {
            max-width: 950px;
            margin: 0;
            padding-left: 50px;
            padding-right: 2rem;
            padding-top: 350px;
            padding-bottom: 2rem;
            display: flex;
            gap: 3rem;
            align-items: flex-start;
            justify-content: flex-start;
        }

        body.arabic-mode .main-content {
            padding-left: 2rem;
            padding-right: 50px;
        }

        .left-section {
            flex: 0 0 450px;
            max-width: 450px;
            animation: slideInLeft 1s ease-out;
        }

        .right-section {
            flex: 0 0 450px;
            max-width: 450px;
            animation: slideInRight 1s ease-out 0.3s both;
        }



        .header {
            text-align: center;
            margin-bottom: 3rem;
            position: absolute;
            left: 50px;
            top: 170px;
            width: 950px;
            z-index: 3;
        }

        body.arabic-mode .header {
            left: auto;
            right: 50px;
        }



        .main-title {
            font-family: 'Orbitron', monospace;
            font-size: 4.5rem;
            font-weight: 700;
            color: #ff6b35;
            text-shadow: 0 0 30px rgba(255, 107, 53, 0.8), 0 0 60px rgba(255, 107, 53, 0.4);
            margin-bottom: 0.5rem;
            letter-spacing: 2px;
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        body.arabic-mode .main-title {
            font-family: 'Cairo', sans-serif;
            color: #ff6b35;
            /* Same red-orange color */
            text-shadow: 0 0 30px rgba(255, 107, 53, 0.8), 0 0 60px rgba(255, 107, 53, 0.4);
            /* Remove any existing gold text-shadow */
            animation: titleGlow 3s ease-in-out infinite alternate;
            /* Same glow animation */
        }

        @keyframes titleGlow {
            0% {
                text-shadow: 0 0 30px rgba(255, 107, 53, 0.8), 0 0 60px rgba(255, 107, 53, 0.4);
            }

            100% {
                text-shadow: 0 0 40px rgba(255, 107, 53, 1), 0 0 80px rgba(255, 107, 53, 0.6);
            }
        }

        body.arabic-mode .main-title {
            animation: titleGlowArabic 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlowArabic {
            0% {
                text-shadow: 0 0 30px rgba(255, 107, 53, 0.8), 0 0 60px rgba(255, 107, 53, 0.4);
            }

            100% {
                text-shadow: 0 0 40px rgba(255, 107, 53, 1), 0 0 80px rgba(255, 107, 53, 0.6);
            }
        }

        .subtitle {
            font-size: 2rem;
            color: #b8860b;
            font-weight: 400;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(184, 134, 11, 0.5);
            font-family: 'Orbitron', monospace;
            animation: subtitlePulse 2s ease-in-out infinite alternate;
        }

        body.arabic-mode .subtitle {
            font-family: 'Cairo', sans-serif;
        }

        @keyframes subtitlePulse {
            0% {
                opacity: 0.8;
            }

            100% {
                opacity: 1;
            }
        }

        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.8rem;
            font-weight: 600;
            color: #dc143c;
            text-shadow: 0 0 15px rgba(220, 20, 60, 0.6);
            margin-bottom: 1.5rem;
            text-align: center;
            letter-spacing: 1px;
            animation: sectionTitleBounce 0.8s ease-out;
        }

        body.arabic-mode .section-title {
            font-family: 'Cairo', sans-serif;
            color: #FFD700;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
        }



        .monthly-tiers {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .multi-month-tiers {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .tier-card {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.15), rgba(30, 30, 30, 0.15));
            border: 2px solid rgba(220, 20, 60, 0.4);
            border-radius: 15px;
            padding: 1.8rem;
            position: relative;
            overflow: visible;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: none;
            height: 180px;
            width: 100%;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            opacity: 1;
            transform: translateY(0);
            cursor: pointer;
        }


        body.arabic-mode .tier-card {
            text-align: center;
            padding: 7.0rem;
        }


        .tier-card.animate-in {
            opacity: 0;
            transform: translateY(30px);
            animation: cardSlideUp 1s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }



        .tier-card:hover {
            transform: translateX(6px) translateY(-3px) scale(1.01);
            border-color: rgba(220, 20, 60, 0.9);
            box-shadow: -6px 6px 25px rgba(220, 20, 60, 0.4);
        }

        body.arabic-mode .tier-card:hover {
            transform: translateX(-6px) translateY(-3px) scale(1.01);
            box-shadow: 6px 6px 25px rgba(220, 20, 60, 0.4);
        }

        .tier-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, rgba(220, 20, 60, 0.3), transparent);
            border-radius: 15px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tier-card:hover::before {
            opacity: 1;
            animation: borderGlow 2s ease-in-out infinite;
        }

        @keyframes borderGlow {

            0%,
            100% {
                background: linear-gradient(45deg, transparent, rgba(220, 20, 60, 0.3), transparent);
            }

            50% {
                background: linear-gradient(45deg, transparent, rgba(220, 20, 60, 0.3), transparent);
            }
        }

        .tier-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.4rem;
            font-weight: 600;
            color: #dc143c;
            margin-bottom: 0.8rem;
            margin-top: 1.2rem;
            text-align: center;
            text-shadow: 0 0 10px rgba(220, 20, 60, 0.4);
            transition: all 0.3s ease;
        }

        body.arabic-mode .tier-name {
            font-family: 'Cairo', sans-serif;
        }

        .tier-card:hover .tier-name {
            transform: scale(1.05);
            text-shadow: 0 0 20px rgba(220, 20, 60, 0.8);
        }

        .tier-details {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            text-align: center;
        }

        .price {
            font-size: 2.8rem;
            font-weight: 900;
            color: #b8860b;
            text-shadow: 0 0 15px rgba(184, 134, 11, 0.5);
            font-family: 'Orbitron', monospace;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        body.arabic-mode .price {
            font-family: 'Cairo', sans-serif;
        }

        .tier-card:hover .price {
            transform: scale(1.1);
            text-shadow: 0 0 25px rgba(184, 134, 11, 0.8);
            animation: priceGlow 1.5s ease-in-out infinite alternate;
        }

        @keyframes priceGlow {
            0% {
                color: #b8860b;
            }

            100% {
                color: #ffd700;
            }
        }

        .duration-label {
            font-size: 0.9rem;
            color: #ff6b35;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 0.5rem;
            text-shadow: 0 0 8px rgba(255, 107, 53, 0.5);
            transition: all 0.3s ease;
        }

        body.arabic-mode .duration-label {
            font-family: 'Cairo', sans-serif;
            text-transform: none;
        }

        .tier-card:hover .duration-label {
            transform: translateY(-2px);
            text-shadow: 0 0 15px rgba(255, 107, 53, 0.8);
        }

        /* Special tier animations */
        .featured {
            border-color: #b8860b;
            background: linear-gradient(145deg, rgba(184, 134, 11, 0.15), rgba(30, 30, 30, 0.95));
            animation: featuredPulse 3s ease-in-out infinite;
        }

        @keyframes featuredPulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(184, 134, 11, 0.3);
            }

            50% {
                box-shadow: 0 0 30px rgba(184, 134, 11, 0.5);
            }
        }

        .featured .duration-label {
            color: #b8860b;
            text-shadow: 0 0 8px rgba(184, 134, 11, 0.5);
        }

        .dante {
            border-color: #dc143c;
            background: linear-gradient(145deg, rgba(220, 20, 60, 0.15), rgba(30, 30, 30, 0.95));
            animation: dantePulse 2.5s ease-in-out infinite;
        }

        @keyframes dantePulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(220, 20, 60, 0.3);
            }

            50% {
                box-shadow: 0 0 35px rgba(220, 20, 60, 0.6);
            }
        }

        .dante .duration-label {
            color: #ff4757;
            text-shadow: 0 0 8px rgba(255, 71, 87, 0.5);
        }

        .dante .tier-name {
            color: #ff4757;
            text-shadow: 0 0 10px rgba(255, 71, 87, 0.4);
            font-size: 1.4rem;
            font-family: 'Orbitron', monospace;
        }

        body.arabic-mode .dante .tier-name {
            font-family: 'Cairo', sans-serif;
        }

        .dante::after {
            content: 'DANTE';
            position: absolute;
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #dc143c, #ff4757);
            color: #fff;
            padding: 0.5rem 1.2rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 20px;
            letter-spacing: 1px;
            z-index: 10;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 4px 15px rgba(220, 20, 60, 0.3);
            animation: badgeBounce 2s ease-in-out infinite;
        }

        body.arabic-mode .dante::after {
            content: 'دانتي';
            font-family: 'Cairo', sans-serif;
        }

        @keyframes badgeBounce {

            0%,
            100% {
                transform: translateX(-50%) translateY(0);
            }

            50% {
                transform: translateX(-50%) translateY(-3px);
            }
        }

        .nero {
            border-color: #8a2be2;
            background: linear-gradient(145deg, rgba(138, 43, 226, 0.15), rgba(30, 30, 30, 0.95));
            animation: neroPulse 4s ease-in-out infinite;
        }

        @keyframes neroPulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(138, 43, 226, 0.3);
            }

            50% {
                box-shadow: 0 0 30px rgba(138, 43, 226, 0.5);
            }
        }

        .nero .duration-label {
            color: #9370db;
            text-shadow: 0 0 8px rgba(147, 112, 219, 0.5);
        }

        .nero .tier-name {
            color: #9370db;
            text-shadow: 0 0 10px rgba(147, 112, 219, 0.4);
            font-size: 1.4rem;
            font-family: 'Orbitron', monospace;
        }

        body.arabic-mode .nero .tier-name {
            font-family: 'Cairo', sans-serif;
        }

        .premium {
            border-color: #1e4a72;
            background: linear-gradient(145deg, rgba(30, 74, 114, 0.15), rgba(30, 30, 30, 0.95));
            animation: premiumPulse 3.5s ease-in-out infinite;
        }

        @keyframes premiumPulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(30, 74, 114, 0.3);
            }

            50% {
                box-shadow: 0 0 35px rgba(30, 74, 114, 0.5);
            }
        }

        .premium .duration-label {
            color: #4682b4;
            text-shadow: 0 0 8px rgba(70, 130, 180, 0.5);
        }

        .premium .tier-name {
            color: #4682b4;
            text-shadow: 0 0 10px rgba(70, 130, 180, 0.4);
            font-size: 1.4rem;
            font-family: 'Orbitron', monospace;
        }

        body.arabic-mode .premium .tier-name {
            font-family: 'Cairo', sans-serif;
        }

        .nero::after {
            content: 'NERO';
            position: absolute;
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #8a2be2, #9370db);
            color: #fff;
            padding: 0.5rem 1.2rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 20px;
            letter-spacing: 1px;
            z-index: 10;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 4px 15px rgba(138, 43, 226, 0.3);
            animation: badgeBounce 2s ease-in-out infinite 0.5s;
        }

        body.arabic-mode .nero::after {
            content: 'نيرو';
            font-family: 'Cairo', sans-serif;
        }

        .featured::after {
            content: 'BEST VALUE';
            position: absolute;
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #b8860b, #ffd700);
            color: #000;
            padding: 0.5rem 1.2rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 20px;
            letter-spacing: 1px;
            z-index: 10;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 4px 15px rgba(184, 134, 11, 0.3);
            animation: badgeBounce 2s ease-in-out infinite 0.2s;
        }

        body.arabic-mode .featured::after {
            content: 'أفضل قيمة';
            font-family: 'Cairo', sans-serif;
        }

        .premium::after {
            content: 'VERGIL';
            position: absolute;
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #1e4a72, #4682b4);
            color: #fff;
            padding: 0.5rem 1.2rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 20px;
            letter-spacing: 1px;
            z-index: 10;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 4px 15px rgba(70, 130, 180, 0.3);
            animation: badgeBounce 2s ease-in-out infinite 0.8s;
        }

        body.arabic-mode .premium::after {
            content: 'فيرجل';
            font-family: 'Cairo', sans-serif;
        }

        /* Games Content */
        .games-content {
            max-width: 1400px;
            margin: 0;
            padding: 100px 0 2rem 50px;
            position: relative;
            z-index: 2;
            overflow-y: auto;
            overflow-x: hidden;
        }

        body.arabic-mode .games-content {
            padding: 100px 50px 2rem 0;
            direction: rtl;
        }

        .games-content::-webkit-scrollbar {
            display: none;
        }

        .games-content {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .search-container {
            max-width: 475px;
            margin: 2rem 0 3rem 300px;
            position: relative;
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        /* Search input wrapper for inline chips */
        .search-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.2), rgba(30, 30, 30, 0.2));
            border: 2px solid rgba(220, 20, 60, 0.4);
            border-radius: 15px;
            padding: 0.8rem 1.5rem;
            gap: 0.5rem;
            transition: all 0.3s ease;
            backdrop-filter: none;
            overflow: hidden;
        }

        .search-input-wrapper:focus-within {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.3);
            transform: translateY(-2px);
        }

        /* Filter chips container - now inline */
        .filter-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 0.3rem;
            min-height: 0;
        }

        /* Individual filter chip - inline style */
        .filter-chip {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-family: 'Orbitron', monospace;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            animation: fadeInScale 0.3s ease;
            white-space: nowrap;
            flex-shrink: 0;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-chip:hover {
            transform: scale(1.05);
            opacity: 0.8;
        }

        /* Special container for Special Trailers layout */
        .special-trailers-container {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .special-trailers-container:hover {
            transform: scale(1.05);
        }

        /* Gold Special chip */
        .filter-chip.special-chip {
            background: linear-gradient(135deg, #f1c40f, #f39c12);
            color: #2c3e50;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(241, 196, 15, 0.3);
        }

        .filter-chip.special-chip:hover {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            transform: scale(1.05);
        }

        /* Purple Genre chip */
        .filter-chip.genre-chip {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(155, 89, 182, 0.3);
        }

        .filter-chip.genre-chip:hover {
            background: linear-gradient(135deg, #8e44ad, #7d3c98);
            transform: scale(1.05);
        }

        /* Blue Platform chip */
        .filter-chip.platform-chip {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }

        .filter-chip.platform-chip:hover {
            background: linear-gradient(135deg, #2980b9, #21618c);
            transform: scale(1.05);
        }

        /* Green Developer chip */
        .filter-chip.developer-chip {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(39, 174, 96, 0.3);
        }

        .filter-chip.developer-chip:hover {
            background: linear-gradient(135deg, #229954, #1e8449);
            transform: scale(1.05);
        }

        /* Trailers text */
        .trailers-text {
            color: #e74c3c;
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(231, 76, 60, 0.3);
        }

        body.arabic-mode .trailers-text {
            font-family: 'Cairo', sans-serif;
        }

        /* Dropdown item spacing for special trailers */
        .dropdown-item .dropdown-special-chip {
            margin-right: 0.4rem;
        }

        .dropdown-special-chip {
            background: linear-gradient(135deg, #f1c40f, #f39c12);
            color: #2c3e50;
            padding: 0.15rem 0.4rem;
            border-radius: 8px;
            font-size: 0.65rem;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
        }

        .dropdown-trailers-text {
            color: white;
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            font-weight: 600;
        }

        body.arabic-mode .dropdown-special-chip {
            font-family: 'Cairo', sans-serif;
        }

        body.arabic-mode .dropdown-trailers-text {
            font-family: 'Cairo', sans-serif;
        }

        /* Dropdown chips for other filter types */
        .dropdown-genre-chip {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            padding: 0.15rem 0.4rem;
            border-radius: 8px;
            font-size: 0.65rem;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
            margin-right: 0.4rem;
        }

        .dropdown-platform-chip {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 0.15rem 0.4rem;
            border-radius: 8px;
            font-size: 0.65rem;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
            margin-right: 0.4rem;
        }

        .dropdown-developer-chip {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            padding: 0.15rem 0.4rem;
            border-radius: 8px;
            font-size: 0.65rem;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
            margin-right: 0.4rem;
        }

        .dropdown-filter-text {
            color: white;
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            font-weight: 600;
        }

        body.arabic-mode .dropdown-genre-chip,
        body.arabic-mode .dropdown-platform-chip,
        body.arabic-mode .dropdown-developer-chip {
            font-family: 'Cairo', sans-serif;
        }

        body.arabic-mode .dropdown-filter-text {
            font-family: 'Cairo', sans-serif;
        }


        /* Search dropdown */
        .search-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(13, 13, 13, 0.2);
            border: 1px solid #ff6b35;
            border-radius: 10px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            margin-top: 5px;
        }

        .search-dropdown.show {
            display: block;
            animation: fadeInUp 0.2s ease;
        }

        .dropdown-item {
            padding: 0.7rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 107, 53, 0.1);
            color: #ccc;
            font-family: 'Orbitron', monospace;
            display: flex;
            align-items: center;
            gap: 0.7rem;
            transition: all 0.2s ease;
        }

        .dropdown-item:hover {
            background: rgba(255, 107, 53, 0.1);
            color: #ff6b35;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item .item-icon {
            font-size: 1rem;
            opacity: 0.7;
        }

        .dropdown-item .item-type {
            font-size: 0.7rem;
            color: #ff6b35;
            background: rgba(255, 107, 53, 0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 8px;
            margin-left: auto;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        body.arabic-mode .search-container {
            margin: 2rem 300px 3rem 0;
        }



        .search-box {
            flex: 1;
            padding: 0.4rem 0.5rem;
            background: transparent;
            border: none;
            color: #e0e0e0;
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            font-weight: 600;
            outline: none !important;
            border: none !important;
            box-shadow: none !important;
            min-width: 200px;
            text-align: center;
        }

        .search-box:focus {
            text-align: left;
            outline: none !important;
            border: none !important;
            box-shadow: none !important;
        }

        .search-box:focus::placeholder {
            color: transparent;
        }

        .search-box:active {
            outline: none !important;
            border: none !important;
            box-shadow: none !important;
        }

        body.arabic-mode .search-box {
            font-family: 'Cairo', sans-serif;
            text-align: center;
            outline: none !important;
            border: none !important;
            box-shadow: none !important;
            direction: ltr;
        }

        body.arabic-mode .search-box:focus {
            text-align: left;
            outline: none !important;
            border: none !important;
            box-shadow: none !important;
            direction: ltr;
        }

        body.arabic-mode .search-box:focus::placeholder {
            color: transparent;
        }

        body.arabic-mode .search-box:active {
            outline: none !important;
            border: none !important;
            box-shadow: none !important;
        }

        .search-box::placeholder {
            color: rgba(224, 224, 224, 0.6);
            font-weight: 400;
        }

        .search-box:focus {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.3);
            transform: translateY(-2px);
        }


        body.arabic-mode .search-input-wrapper {
            flex-direction: row;
            direction: ltr;
        }

        /* Fix Arabic dropdown to use LTR for search */
        body.arabic-mode .search-dropdown {
            direction: ltr;
        }

        body.arabic-mode .dropdown-item {
            flex-direction: row;
            direction: ltr;
        }

        /* Fix Arabic active filter chip to use LTR */
        body.arabic-mode .filter-chips {
            direction: ltr;
        }

        /* Ensure chips don't have any outline effects */
        .filter-chips {
            outline: none;
            border: none;
        }

        .filter-chip {
            outline: none;
            border: none;
        }

        /* Games Grid - Updated for 5x3 layout */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(5, 200px);
            grid-template-rows: repeat(4, 200px);
            gap: 1.5rem;
            animation: fadeInUp 1s ease-out 1s both;
            justify-content: start;
            margin-left: 0px;
            margin-bottom: 2rem;
            min-height: 860px;
        }

        body.arabic-mode .games-grid {
            justify-content: end;
            margin-left: auto;
            margin-right: 50px;
            width: fit-content;
            position: relative;
            right: 0;
        }

        body.arabic-mode .games-grid {
            margin-left: 0;
            margin-right: 0px;
            justify-content: end;
            margin-left: auto;
            margin-right: 50px;
        }


        .game-card {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.3), rgba(30, 30, 30, 0.3));
            border: 2px solid rgba(220, 20, 60, 0.4);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: none;
            cursor: pointer;
            opacity: 1;
            transform: translateY(0);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .game-card.animate-in .game-cover {
            opacity: 0;
            animation: gameImageFadeIn 1.5s ease-out forwards;
        }

        .game-card:hover {
            transform: translateX(6px) translateY(-3px) scale(1.01);
            border-color: rgba(220, 20, 60, 0.9);
            box-shadow: -6px 6px 25px rgba(220, 20, 60, 0.4);
        }

        body.arabic-mode .game-card:hover {
            transform: translateX(-6px) translateY(-3px) scale(1.01);
            box-shadow: 6px 6px 25px rgba(220, 20, 60, 0.4);
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, rgba(220, 20, 60, 0.3), transparent);
            border-radius: 10px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .game-card:hover::before {
            opacity: 1;
        }

        .game-cover {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
            border-radius: 18px;
            display: block;
        }

        .game-card:hover .game-cover {
            transform: scale(1.05);
        }

        @media (max-width: 1024px) {
            .game-card:hover .game-cover {
                transform: none;
            }
        }

        .game-info {
            padding: 1rem;
            text-align: center;
        }

        .game-title {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            font-weight: 600;
            color: #e0e0e0;
            text-shadow: 0 0 8px rgba(224, 224, 224, 0.3);
            transition: all 0.3s ease;
            line-height: 1.3;
            height: 2.6em;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        body.arabic-mode .game-title {
            font-family: 'Cairo', sans-serif;
        }

        .game-card:hover .game-title {
            color: #ff6b35;
            text-shadow: 0 0 15px rgba(255, 107, 53, 0.8);
            transform: scale(1.05);
        }

        /* Pagination Styles */
        .pagination-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin: 2rem 0 2rem 20px;
            width: calc(5 * 200px + 4 * 1.5rem);
            position: relative;
            z-index: 10;
        }

        .pagination-container.animate-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease-out 1.5s both;
        }

        body.arabic-mode .pagination-container {
            margin: 2rem 20px 2rem 0;
        }

        .pagination-btn {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
            border: 2px solid rgba(220, 20, 60, 0.4);
            border-radius: 10px;
            padding: 0.8rem 1.2rem;
            color: #e0e0e0;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
            text-decoration: none;
            display: inline-block;
            min-width: 80px;
            text-align: center;
        }

        body.arabic-mode .pagination-btn {
            font-family: 'Cairo', sans-serif;
        }

        .pagination-btn:hover {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.3);
            transform: translateY(-2px);
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .pagination-btn:disabled:hover {
            border-color: rgba(220, 20, 60, 0.4);
            box-shadow: none;
            transform: none;
        }

        .pagination-info {
            color: #ff6b35;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
            margin: 0 1rem;
        }

        body.arabic-mode .pagination-info {
            font-family: 'Cairo', sans-serif;
        }

        .page-jump {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-left: 1rem;
        }

        body.arabic-mode .page-jump {
            margin-left: 0;
            margin-right: 1rem;
        }

        .page-jump input {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
            border: 2px solid rgba(220, 20, 60, 0.4);
            border-radius: 8px;
            padding: 0.5rem;
            color: #e0e0e0;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            backdrop-filter: blur(15px);
            width: 60px;
            text-align: center;
            outline: none;
            -webkit-appearance: none;
            -moz-appearance: textfield;
        }

        body.arabic-mode .page-jump input {
            font-family: 'Cairo', sans-serif;
        }

        .page-jump input::-webkit-outer-spin-button,
        .page-jump input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .page-jump input:focus {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 0 10px rgba(220, 20, 60, 0.3);
        }

        .loading-skeleton {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 25%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.1) 75%);
            background-size: 200% 100%;
            animation: loading 2s infinite;
            border-radius: 10px;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: #ccc;
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            animation: fadeInUp 0.5s ease-out;
            position: absolute;
            left: 400px;
            top: 300px;
            width: 400px;
            z-index: 10;
        }

        body.arabic-mode .no-results {
            font-family: 'Cairo', sans-serif;
            left: auto;
            right: 400px;
        }

        .no-results-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #ff6b35;
        }

        /* Guide Content - Match original trailer style */
        .guide-content {
            max-width: 1200px;
            margin: 0;
            padding: 100px 2rem 2rem 2rem;
            position: relative;
            z-index: 2;
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        body.arabic-mode .guide-content {
            direction: rtl;
        }

        .video-container {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.4), rgba(30, 30, 30, 0.4));
            border: 2px solid rgba(220, 20, 60, 0.5);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: visible;
            margin-top: 2rem;
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        .video-container:hover {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 10px 30px rgba(220, 20, 60, 0.2);
            transform: translateY(-5px);
        }

        .video-container::after {
            content: 'GUIDE';
            position: absolute;
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #dc143c, #ff4757);
            color: #fff;
            padding: 0.5rem 1.2rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 20px;
            letter-spacing: 1px;
            z-index: 10;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 4px 15px rgba(220, 20, 60, 0.3);
            animation: badgeBounce 2s ease-in-out infinite;
        }

        body.arabic-mode .video-container::after {
            content: 'الدليل';
            font-family: 'Cairo', sans-serif;
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            /* 16:9 aspect ratio */
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .video-wrapper img,
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 15px;
            object-fit: cover;
        }

        .video-info {
            margin-top: 2rem;
            text-align: center;
        }

        .video-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            font-weight: 600;
            color: #dc143c;
            text-shadow: 0 0 15px rgba(220, 20, 60, 0.6);
            margin-bottom: 1rem;
            letter-spacing: 1px;
        }

        body.arabic-mode .video-title {
            font-family: 'Cairo', sans-serif;
        }

        .video-description {
            font-size: 1rem;
            color: #ccc;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }

        body.arabic-mode .video-description {
            font-family: 'Cairo', sans-serif;
        }

        .video-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(30px);
            animation: featureCardSlideUp 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
            position: relative;
            overflow: hidden;
        }

        .feature-card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .feature-card:nth-child(2) {
            animation-delay: 0.2s;
        }

        .feature-card:nth-child(3) {
            animation-delay: 0.3s;
        }



        .feature-card:hover {
            border-color: rgba(255, 107, 53, 0.5);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 107, 53, 0.1);
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, rgba(255, 107, 53, 0.3), rgba(220, 20, 60, 0.3), rgba(255, 107, 53, 0.3));
            border-radius: 12px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feature-card:hover::before {
            opacity: 1;
            animation: borderGlow 2s ease-in-out infinite;
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            filter: drop-shadow(0 0 10px rgba(255, 107, 53, 0.5));
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes featureCardSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes gameImageFadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .feature-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            font-weight: 600;
            color: #ff6b35;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        body.arabic-mode .feature-title {
            font-family: 'Cairo', sans-serif;
        }

        .feature-card:hover .feature-title {
            color: #ffd700;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            transform: scale(1.05);
        }

        .feature-text {
            font-size: 0.9rem;
            color: #ccc;
            line-height: 1.5;
            transition: color 0.3s ease;
        }

        body.arabic-mode .feature-text {
            font-family: 'Cairo', sans-serif;
        }

        .feature-card:hover .feature-text {
            color: #e0e0e0;
        }

        /* Social cards 1:1 aspect ratio */
        .social-card {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .social-cards {
            display: grid !important;
            grid-template-columns: repeat(auto-fit, minmax(280px, 280px)) !important;
            gap: 2rem !important;
            animation: fadeInUp 1s ease-out 0.5s both !important;
            justify-content: center !important;
        }

        /* Screenshots Content - Updated to single section with badge navigation */
        .screenshots-content {
            max-width: 1200px;
            margin: 0;
            padding: 100px 2rem 2rem 2rem;
            position: relative;
            z-index: 2;
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        body.arabic-mode .screenshots-content {
            direction: rtl;
        }

        .screenshot-section {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.4), rgba(30, 30, 30, 0.4));
            border-radius: 15px;
            padding: 1.5rem;
            padding-top: 3rem;
            backdrop-filter: none;
            border: 2px solid rgba(70, 130, 180, 0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: visible;
            animation: fadeInUp 1s ease-out 0.5s both;
            margin-top: 2rem;
        }

        .screenshot-section:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(70, 130, 180, 0.2);
            border-color: rgba(70, 130, 180, 0.8);
        }

        /* Badge Navigation - Fixed positioning */
        .screenshot-badges {
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1.5rem;
            z-index: 50;
            width: 300px;
            height: auto;
            justify-content: space-between;
        }

        .screenshot-badge {
            background: linear-gradient(45deg, #1e4a72, #4682b4);
            color: #fff;
            padding: 0.6rem 1.2rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 25px;
            letter-spacing: 1px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 4px 15px rgba(70, 130, 180, 0.4);
            cursor: pointer;
            transition: opacity 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.1);
            width: 140px;
            height: 36px;
            position: relative;
            white-space: nowrap;
            flex-shrink: 0;
            /* Remove all transforms that could cause shifting */
        }

        body.arabic-mode .screenshot-badge {
            font-family: 'Cairo', sans-serif;
        }

        .screenshot-badge.active {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 6px 20px rgba(70, 130, 180, 0.6);
            opacity: 1;
        }

        .screenshot-badge:not(.active) {
            opacity: 0.6;
            background: linear-gradient(45deg, rgba(30, 74, 114, 0.5), rgba(70, 130, 180, 0.5));
            box-shadow: 0 2px 8px rgba(70, 130, 180, 0.2);
        }

        .screenshot-badge:not(.active):hover {
            opacity: 0.9;
            box-shadow: 0 4px 12px rgba(70, 130, 180, 0.3);
        }

        .screenshot-badge.after-badge {
            background: linear-gradient(45deg, #8a2be2, #9370db);
            box-shadow: 0 4px 15px rgba(138, 43, 226, 0.4);
        }

        .screenshot-badge.after-badge:not(.active) {
            background: linear-gradient(45deg, rgba(138, 43, 226, 0.5), rgba(147, 112, 219, 0.5));
            box-shadow: 0 2px 8px rgba(138, 43, 226, 0.2);
        }

        .screenshot-badge.after-badge:not(.active):hover {
            box-shadow: 0 4px 12px rgba(138, 43, 226, 0.3);
        }

        .screenshot-badge.after-badge.active {
            background: linear-gradient(45deg, #8a2be2, #9370db);
            box-shadow: 0 6px 20px rgba(138, 43, 226, 0.6);
        }

        .section-title-screenshots {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            letter-spacing: 1px;
            color: #4682b4;
            text-shadow: 0 0 15px rgba(70, 130, 180, 0.6);
            transition: all 0.3s ease;
        }

        body.arabic-mode .section-title-screenshots {
            font-family: 'Cairo', sans-serif;
        }

        /* Content switching animation */
        .screenshot-content {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .screenshot-content.switching {
            opacity: 0;
            transform: translateY(20px);
        }

        .screenshots-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .screenshot-card {
            background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .screenshot-card:hover {
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
        }

        .screenshot-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
            border-radius: 8px;
            cursor: pointer;
        }

        .screenshot-card:hover .screenshot-image {
            transform: scale(1.05);
        }

        /* Lightbox Modal Styles */
        .lightbox-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            padding: 40px;
            box-sizing: border-box;
        }

        .lightbox-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .lightbox-container {
            position: relative;
            border-radius: 15px;
            transform: scale(0.8);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: 3px solid;
            border-image: linear-gradient(45deg, #ff6b35, #dc143c, #ff6b35) 1;
            animation: glowingBorder 2s ease-in-out infinite alternate;
            background: #111;
            /* Let the image determine the container size */
        }

        .lightbox-overlay.active .lightbox-container {
            transform: scale(1);
        }

        @keyframes glowingBorder {
            0% {
                box-shadow: 0 0 20px rgba(255, 107, 53, 0.5), 0 0 40px rgba(220, 20, 60, 0.3);
                filter: brightness(1);
            }

            100% {
                box-shadow: 0 0 30px rgba(255, 107, 53, 0.8), 0 0 60px rgba(220, 20, 60, 0.5);
                filter: brightness(1.1);
            }
        }

        .lightbox-image {
            max-width: calc(100vw - 120px);
            max-height: calc(100vh - 120px);
            width: auto;
            height: auto;
            object-fit: contain;
            display: block;
            transition: opacity 0.3s ease-in-out;
            border-radius: 12px;
        }

        .lightbox-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            background: linear-gradient(145deg, #dc143c, #ff4757);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(220, 20, 60, 0.4);
            z-index: 10;
        }

        body.arabic-mode .lightbox-close {
            right: auto;
            left: 15px;
        }

        .lightbox-close:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 6px 20px rgba(220, 20, 60, 0.6);
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
            border: 2px solid rgba(255, 107, 53, 0.4);
            border-radius: 50%;
            color: #ff6b35;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
            z-index: 10;
        }

        .lightbox-nav:hover {
            border-color: rgba(255, 107, 53, 0.8);
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
            transform: translateY(-50%) scale(1.1);
            color: #fff;
            background: linear-gradient(145deg, rgba(255, 107, 53, 0.2), rgba(30, 30, 30, 0.9));
        }

        .lightbox-nav.prev {
            left: 15px;
        }

        .lightbox-nav.next {
            right: 15px;
        }

        body.arabic-mode .lightbox-nav.prev {
            left: 15px;
            right: auto;
        }

        body.arabic-mode .lightbox-nav.next {
            right: 15px;
            left: auto;
        }

        body.arabic-mode .nav-arrow.prev-arrow svg {
            transform: rotate(180deg);
        }

        body.arabic-mode .nav-arrow.next-arrow svg {
            transform: rotate(180deg);
        }


        .lightbox-nav:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: translateY(-50%);
        }

        .lightbox-nav:disabled:hover {
            border-color: rgba(255, 107, 53, 0.4);
            box-shadow: none;
            transform: translateY(-50%);
            color: #ff6b35;
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
        }

        .lightbox-counter {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            color: #ff6b35;
            font-size: 1rem;
            text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
            letter-spacing: 1px;
            background: rgba(15, 15, 15, 0.8);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            border: 2px solid rgba(255, 107, 53, 0.4);
            backdrop-filter: blur(10px);
        }

        body.arabic-mode .lightbox-counter {
            font-family: 'Cairo', sans-serif;
        }

        /* Screenshot Feature Cards - Identical to Guide cards */
        .screenshot-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .screenshot-feature-card {
            background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(30px);
            animation: featureCardSlideUp 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
            position: relative;
            overflow: hidden;
        }

        .screenshot-feature-card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .screenshot-feature-card:nth-child(2) {
            animation-delay: 0.2s;
        }

        .screenshot-feature-card:nth-child(3) {
            animation-delay: 0.3s;
        }

        .screenshot-feature-card:hover {
            border-color: rgba(255, 107, 53, 0.5);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 107, 53, 0.1);
        }

        .screenshot-feature-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, rgba(255, 107, 53, 0.3), rgba(220, 20, 60, 0.3), rgba(255, 107, 53, 0.3));
            border-radius: 12px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .screenshot-feature-card:hover::before {
            opacity: 1;
            animation: borderGlow 2s ease-in-out infinite;
        }

        .screenshot-feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            filter: drop-shadow(0 0 10px rgba(255, 107, 53, 0.5));
            animation: iconFloat 3s ease-in-out infinite;
        }

        .screenshot-feature-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            font-weight: 600;
            color: #ff6b35;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        body.arabic-mode .screenshot-feature-title {
            font-family: 'Cairo', sans-serif;
        }

        .screenshot-feature-card:hover .screenshot-feature-title {
            color: #ffd700;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            transform: scale(1.05);
        }

        .screenshot-feature-text {
            font-size: 0.9rem;
            color: #ccc;
            line-height: 1.5;
            transition: color 0.3s ease;
        }

        body.arabic-mode .screenshot-feature-text {
            font-family: 'Cairo', sans-serif;
        }

        .screenshot-feature-card:hover .screenshot-feature-text {
            color: #e0e0e0;
        }

        .screenshot-info {
            display: none;
        }

        .screenshot-title {
            display: none;
        }

        .screenshot-description {
            display: none;
        }

        /* Image Comparison Slider Styles */
        .image-comparison-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5));
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid rgba(138, 43, 226, 0.3);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
            position: relative;
        }

        /* Fade transition for images */
        .image-comparison-slider {
            position: relative;
            width: 100%;
            height: 600px;
            overflow: hidden;
            cursor: grab;
            user-select: none;
            transition: opacity 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .image-comparison-slider.fading {
            opacity: 0;
        }

        .image-comparison-slider:active {
            cursor: grabbing;
        }

        .comparison-image {
            position: absolute;
            top: 0;
            width: 100%;
            height: 100%;
        }

        .comparison-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            pointer-events: none;
        }

        .original-image {
            left: 0;
            clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
        }

        .enhanced-image {
            right: 0;
            clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
        }

        .slider-handle {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, #ff6b35, #dc143c);
            cursor: ew-resize;
            transform: translateX(-50%);
            z-index: 10;
        }

        .slider-line {
            width: 100%;
            height: 100%;
            background: inherit;
            box-shadow: 0 0 10px rgba(255, 107, 53, 0.8);
        }

        .slider-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: linear-gradient(145deg, #ff6b35, #dc143c);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.5);
            transition: all 0.3s ease;
        }

        .slider-button:hover {
            transform: translate(-50%, -50%) scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 107, 53, 0.7);
        }

        .image-label {
            position: absolute;
            top: 20px;
            padding: 0.5rem 1rem;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            color: white;
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            font-size: 0.9rem;
            letter-spacing: 1px;
            border-radius: 20px;
            border: 2px solid;
            z-index: 5;
        }

        body.arabic-mode .image-label {
            font-family: 'Cairo', sans-serif;
        }

        .original-label {
            left: 20px;
            border-color: #ff4757;
            color: #ff4757;
            text-shadow: 0 0 8px rgba(255, 71, 87, 0.5);
        }

        body.arabic-mode .original-label {
            left: auto;
            right: 20px;
        }

        .enhanced-label {
            right: 20px;
            border-color: #2ed573;
            color: #2ed573;
            text-shadow: 0 0 8px rgba(46, 213, 115, 0.5);
        }

        body.arabic-mode .enhanced-label {
            right: auto;
            left: 20px;
        }

        body.arabic-mode .original-image {
            left: auto;
            right: 0;
            clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
        }

        body.arabic-mode .enhanced-image {
            right: auto;
            left: 0;
            clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
        }

        /* Navigation Controls - Overlaid on image */
        .comparison-navigation {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            pointer-events: none;
            z-index: 20;
        }

        @media (max-width: 1024px) {
            .comparison-navigation .nav-arrow {
                display: none !important;
            }

            .example-counter {
                display: none !important;
            }
        }

        .comparison-navigation .nav-arrow {
            pointer-events: all;
        }

        .nav-arrow {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
            border: 2px solid rgba(138, 43, 226, 0.4);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9370db;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
        }

        .nav-arrow:hover {
            border-color: rgba(138, 43, 226, 0.8);
            box-shadow: 0 0 20px rgba(138, 43, 226, 0.3);
            transform: scale(1.1);
            color: #fff;
            background: linear-gradient(145deg, rgba(138, 43, 226, 0.2), rgba(30, 30, 30, 0.9));
        }

        .nav-arrow:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none;
        }

        .nav-arrow:disabled:hover {
            border-color: rgba(138, 43, 226, 0.4);
            box-shadow: none;
            transform: none;
            color: #9370db;
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9));
        }

        .example-info {
            text-align: center;
        }

        .example-counter {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            color: #9370db;
            font-size: 1rem;
            text-shadow: 0 0 10px rgba(147, 112, 219, 0.5);
            letter-spacing: 1px;
            background: rgba(15, 15, 15, 0.8);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            border: 2px solid rgba(147, 112, 219, 0.4);
            backdrop-filter: blur(10px);
            z-index: 20;
        }

        body.arabic-mode .example-counter {
            font-family: 'Cairo', sans-serif;
        }

        /* Fade transition for images */
        .comparison-image img {
            transition: none;
        }

        /* FAQ Styles */
        .faq-content {
    max-width: 1200px;
    margin: 0;
    padding: 2rem;
    position: relative;
    z-index: 2;
    transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    display: flex;
    flex-direction: column;
    padding-top: 200px;
}

        body.arabic-mode .faq-content {
            direction: rtl;
        }

        .faq-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(550px, 1fr));
            gap: 2rem;
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        .faq-section {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.4), rgba(30, 30, 30, 0.4));
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: none;
            border: 2px solid;
            transition: all 0.3s ease;
            position: relative;
            overflow: visible;
        }

        .faq-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        /* Character theme colors */
        .faq-section.vergil {
            border-color: rgba(70, 130, 180, 0.5);
            background: linear-gradient(145deg, rgba(30, 74, 114, 0.1), rgba(30, 30, 30, 0.4));
        }

        .faq-section.vergil:hover {
            border-color: rgba(70, 130, 180, 0.8);
            box-shadow: 0 10px 30px rgba(70, 130, 180, 0.2);
        }

        .faq-section.dante {
            border-color: rgba(220, 20, 60, 0.5);
            background: linear-gradient(145deg, rgba(220, 20, 60, 0.1), rgba(30, 30, 30, 0.4));
        }

        .faq-section.dante:hover {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 10px 30px rgba(220, 20, 60, 0.2);
        }

        .faq-section.nero {
            border-color: rgba(138, 43, 226, 0.5);
            background: linear-gradient(145deg, rgba(138, 43, 226, 0.1), rgba(30, 30, 30, 0.4));
        }

        .faq-section.nero:hover {
            border-color: rgba(138, 43, 226, 0.8);
            box-shadow: 0 10px 30px rgba(138, 43, 226, 0.2);
        }

        /* FAQ Section Badges */
        .faq-section.vergil::after {
            content: 'VERGIL';
            position: absolute;
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #1e4a72, #4682b4);
            color: #fff;
            padding: 0.5rem 1.2rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 20px;
            letter-spacing: 1px;
            z-index: 10;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 4px 15px rgba(70, 130, 180, 0.3);
            animation: badgeBounce 2s ease-in-out infinite;
        }

        body.arabic-mode .faq-section.vergil::after {
            content: 'فيرجل';
            font-family: 'Cairo', sans-serif;
        }

        .faq-section.dante::after {
            content: 'DANTE';
            position: absolute;
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #dc143c, #ff4757);
            color: #fff;
            padding: 0.5rem 1.2rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 20px;
            letter-spacing: 1px;
            z-index: 10;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 4px 15px rgba(220, 20, 60, 0.3);
            animation: badgeBounce 2s ease-in-out infinite;
        }

        body.arabic-mode .faq-section.dante::after {
            content: 'دانتي';
            font-family: 'Cairo', sans-serif;
        }

        .faq-section-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            letter-spacing: 1px;
            text-shadow: 0 0 15px;
        }

        body.arabic-mode .faq-section-title {
            font-family: 'Cairo', sans-serif;
        }

        .faq-section.vergil .faq-section-title {
            color: #4682b4;
            text-shadow: 0 0 15px rgba(70, 130, 180, 0.6);
        }

        .faq-section.dante .faq-section-title {
            color: #dc143c;
            text-shadow: 0 0 15px rgba(220, 20, 60, 0.6);
        }

        .faq-section.nero .faq-section-title {
            color: #9370db;
            text-shadow: 0 0 15px rgba(147, 112, 219, 0.6);
        }

        .faq-item {
            margin-bottom: 1.5rem;
            background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5));
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .faq-question {
            padding: 1.2rem;
            cursor: pointer;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            font-size: 1rem;
            color: #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
        }

        body.arabic-mode .faq-question {
            font-family: 'Cairo', sans-serif;
            text-align: right;
        }

        .faq-question:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.05);
        }

        .faq-question::after {
            content: '+';
            font-size: 1.5rem;
            font-weight: 700;
            transition: transform 0.3s ease;
        }

        .faq-question.active::after {
            content: '−';
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background: rgba(0, 0, 0, 0.3);
        }

        .faq-answer.active {
            max-height: 200px;
        }

        .faq-answer-content {
            padding: 1.2rem;
            font-size: 0.95rem;
            line-height: 1.6;
            color: #ccc;
        }

        body.arabic-mode .faq-answer-content {
            font-family: 'Cairo', sans-serif;
        }

        .faq-answer a {
            color: #ff6b35;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .faq-answer a:hover {
            color: #ffd700;
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
        }



        /* Mobile Menu Styles */
        .mobile-menu-btn {
            display: none;
            position: absolute;
            top: 1rem;
            right: 1rem;
            z-index: 200;
            width: 50px;
            height: 50px;
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.15), rgba(30, 30, 30, 0.15));
            border: 2px solid rgba(220, 20, 60, 0.4);
            border-radius: 10px;
            cursor: pointer;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 4px;
            backdrop-filter: none;
            transition: all 0.5s ease;
        }

        .mobile-menu-btn:hover {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.3);
        }

        .mobile-menu-btn span {
            width: 20px;
            height: 2px;
            background: #e0e0e0;
            transition: all 0.5s ease;
        }

        .mobile-menu-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu-btn.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        .mobile-menu {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: transparent;
            backdrop-filter: none;
            z-index: 150;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            padding: 2rem;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .mobile-menu.active .header {
            opacity: 1 !important;
            visibility: visible !important;
        }

        .mobile-menu.active {
            display: flex;
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav-btn {
            background: linear-gradient(145deg, rgba(15, 15, 15, 0.15), rgba(30, 30, 30, 0.15));
            border: 2px solid rgba(220, 20, 60, 0.4);
            border-radius: 10px;
            padding: 1rem 2rem;
            color: #e0e0e0;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: none;
            text-decoration: none;
            display: inline-block;
            min-width: 200px;
            text-align: center;
            font-size: 1.1rem;
        }

        .mobile-nav-btn.arabic-toggle {
            border: 2px solid rgba(184, 134, 11, 0.6);
        }

        .mobile-nav-btn.arabic-toggle:hover {
            border-color: #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .mobile-nav-btn.social-toggle {
            border: 2px solid rgba(70, 130, 180, 0.6);
        }

        .mobile-nav-btn.social-toggle:hover {
            border-color: #4682b4;
            box-shadow: 0 0 20px rgba(70, 130, 180, 0.3);
        }

        .mobile-nav-btn:hover {
            border-color: rgba(220, 20, 60, 0.8);
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.3);
            transform: translateY(-2px);
        }

        .mobile-nav-btn.active {
            background: linear-gradient(145deg, rgba(220, 20, 60, 0.2), rgba(30, 30, 30, 0.9));
            border-color: #dc143c;
        }

        .mobile-mute-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.8rem;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 15px rgba(70, 130, 180, 0.8));
        }

        body.arabic-mode .mobile-nav-btn {
            font-family: 'Cairo', sans-serif;
        }

        /* Responsive design */
        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
                gap: 2rem;
                padding-left: 2rem;
                padding-top: 350px;
            }

            body.arabic-mode .main-content {
                padding-right: 2rem;
                padding-left: 2rem;
            }

            .header {
                left: 2rem;
                width: calc(100% - 4rem);
                top: 170px;
            }

            body.arabic-mode .header {
                right: 2rem;
                left: auto;
            }

            .left-section,
            .right-section {
                max-width: 100%;
                flex: 1;
            }

            .faq-sections {
                grid-template-columns: 1fr;
            }

            .games-grid {
                grid-template-columns: repeat(3, 180px);
                grid-template-rows: repeat(5, 180px);
                margin-left: 2rem;
                min-height: 950px;
            }

            body.arabic-mode .games-grid {
                margin-right: 2rem;
                margin-left: 0;
            }

            .search-container {
                margin-left: 2rem;
                max-width: 400px;
            }

            body.arabic-mode .search-container {
                margin-right: 2rem;
                margin-left: 0;
            }
        }

        @media (max-width: 1024px) {
            body::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: calc(100vh + 30px);
                background: #0d0d0d url('https://i.imgur.com/DdYKWbi.png') center/cover no-repeat;
                background-size: cover;
                z-index: -1;
            }

            body {
                background: #0d0d0d url('https://i.imgur.com/DdYKWbi.png') center/cover no-repeat fixed !important;
                background-size: cover !important;
                min-height: calc(100vh + 30px);
                position: relative;
            }

            body.arabic-mode {
                background: #0d0d0d url('https://i.imgur.com/DdYKWbi.png') center/cover no-repeat fixed !important;
                background-size: cover !important;
            }

            body.arabic-mode::before {
                background: #0d0d0d url('https://i.imgur.com/DdYKWbi.png') center/cover no-repeat;
                background-size: cover;
            }



            .nav {
                display: none;
            }

            .mobile-menu-btn {
                display: flex;
            }

            .main-title {
                font-size: 2.5rem;
            }

            .subtitle {
                font-size: 1.5rem;
            }

            .section-title,
            .faq-section-title,
            .section-title-screenshots {
                font-size: 2rem;
            }

            .tier-card {
                padding: 1.5rem;
                height: auto;
                min-height: 160px;
                backdrop-filter: none !important;
            }

            .price {
                font-size: 2.2rem;
            }

            .main-content {
                padding-top: 310px;
                padding-left: 1rem;
                padding-right: 1rem;
                justify-content: center;
                align-items: center;
                text-align: center;
            }

            body.arabic-mode .main-content {
                padding-left: 1rem;
                padding-right: 1rem;
                justify-content: center;
                align-items: center;
                text-align: center;
            }

            .header {
                top: 130px;
                left: 1rem;
                right: 1rem;
                width: calc(100% - 2rem);
            }

            body.arabic-mode .header {
                left: 1rem;
                right: 1rem;
                width: calc(100% - 2rem);
            }

            .left-section,
            .right-section {
                max-width: 100%;
                text-align: center;
            }

            .nav-btn {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }

            .games-grid {
                grid-template-columns: repeat(2, 150px);
                grid-template-rows: repeat(7, 150px);
                margin: 0 auto;
                justify-content: center;
                min-height: 1050px;
            }

            body.arabic-mode .games-grid {
                margin: 0 auto !important;
                justify-content: center !important;
                margin-left: auto !important;
                margin-right: auto !important;
            }

            .no-results {
                left: 50%;
                top: 400px;
                transform: translateX(-50%);
                width: 90%;
                max-width: 300px;
            }

            .search-container {
                margin: 0 auto 3rem auto;
                max-width: 300px;
            }

            body.arabic-mode .search-container {
                margin: 0 auto 3rem auto;
            }

            .games-content {
                padding-left: 1rem;
                padding-right: 1rem;
                padding-top: 80px;
                text-align: center;
            }

            body.arabic-mode .games-content {
                padding-left: 1rem;
                padding-right: 1rem;
                text-align: center;
            }

            .faq-content,
            .guide-content,
            .screenshots-content {
                padding-top: 80px;
            }

            .video-container {
                backdrop-filter: none !important;
            }

            .screenshot-section {
                backdrop-filter: none !important;
            }

            .guide-nav,
            .lightbox-nav,
            .nav-arrow.guide-nav {
                display: none !important;
            }

            .guide-counter,
            .lightbox-counter,
            .example-counter {
                display: none !important;
            }

            .pagination-container {
                position: static;
                width: calc(100% - 2rem);
                margin: 1rem auto;
                justify-content: center;
                padding: 0.2rem 0.3rem;
                background: linear-gradient(145deg, rgba(15, 15, 15, 0.15), rgba(30, 30, 30, 0.15));
                border: 2px solid rgba(220, 20, 60, 0.4);
                border-radius: 8px;
                backdrop-filter: none;
                gap: 0.1rem;
                flex-wrap: wrap;
            }

            body.arabic-mode .pagination-container {
                position: static;
                width: calc(100% - 2rem);
                margin: 1rem auto;
                justify-content: center;
                padding: 0.2rem 0.3rem;
                background: linear-gradient(145deg, rgba(15, 15, 15, 0.15), rgba(30, 30, 30, 0.15));
                border: 2px solid rgba(220, 20, 60, 0.4);
                border-radius: 8px;
                backdrop-filter: none;
                gap: 0.1rem;
                flex-wrap: wrap;
            }

            .pagination-btn {
                padding: 0.2rem 0.4rem;
                font-size: 0.6rem;
                min-width: 40px;
            }

            .pagination-info {
                font-size: 0.6rem;
                margin: 0 0.2rem;
            }

            .page-jump {
                margin-left: 0.2rem;
                margin-top: 0;
            }

            .page-jump input {
                width: 30px;
                padding: 0.1rem;
                font-size: 0.6rem;
            }

            .page-jump span {
                font-size: 0.6rem;
            }

            body.arabic-mode .page-jump {
                margin-right: 0.2rem;
                margin-left: 0;
            }

            .page-jump {
                margin-left: 0;
                margin-top: 0.5rem;
            }

            body.arabic-mode .page-jump {
                margin-right: 0;
            }

            .screenshot-badges {
                flex-direction: row;
                gap: 1rem;
                width: 300px;
                justify-content: space-between;
            }

            .image-comparison-slider {
                height: calc((100vw - 2rem) * 9 / 16) !important;
                max-height: 180px !important;
            }

            .image-comparison-container {
                margin: 1rem auto 0 auto !important;
                max-width: 100% !important;
                overflow: hidden !important;
                padding-bottom: 0 !important;
            }

            .image-comparison-slider {
                display: block !important;
                overflow: hidden !important;
            }

            .comparison-image {
                height: 100% !important;
            }

            .comparison-image img {
                width: 100% !important;
                height: 100% !important;
                object-fit: cover !important;
                display: block !important;
            }

            .comparison-image img {
                object-fit: cover !important;
                object-position: center !important;
            }

            .image-label {
                padding: 0.2rem 0.3rem;
                font-size: 0.6rem;
                top: 5px;
            }

            .original-label {
                left: 5px;
            }

            .enhanced-label {
                right: 5px;
            }

            body.arabic-mode .original-label {
                left: auto;
                right: 5px;
            }

            body.arabic-mode .enhanced-label {
                right: auto;
                left: 5px;
            }

            .slider-handle {
                width: 2px;
            }

            .slider-button {
                width: 25px;
                height: 25px;
            }
        }

        @media (max-width: 480px) {
            .main-title {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.2rem;
            }

            .section-title,
            .faq-section-title,
            .section-title-screenshots {
                font-size: 1.6rem;
            }

            .tier-card {
                padding: 1.2rem;
            }

            .price {
                font-size: 1.8rem;
            }

            .faq-sections {
                grid-template-columns: 1fr;
            }

            .faq-section {
                padding: 1.5rem;
            }

            .games-grid {
                grid-template-columns: repeat(2, 120px);
                grid-template-rows: repeat(7, 120px);
                margin-left: 0.5rem;
                min-height: 840px;
            }

            body.arabic-mode .games-grid {
                margin-right: 0.5rem;
                margin-left: 0;
            }

            .screenshots-grid {
                grid-template-columns: 1fr;
            }

            .guide-steps {
                grid-template-columns: 1fr;
            }
        }

@media (min-width: 1900px) and (max-width: 1940px) {
    html {
        overflow-x: hidden;
    }
    
    body {
        overflow-y: auto;
        overflow-x: hidden;
        height: auto;
        min-height: 100vh;
        zoom: 0.74;
    }
}

        body.arabic-mode .social-content {
            direction: rtl;
            margin-left: 0 !important;
            margin-right: -5rem !important;
        }

        @media (max-width: 1024px) {
            .social-content {
                margin-left: 0 !important;
                margin-right: 0 !important;
            }

            body.arabic-mode .social-content {
                margin-left: 0 !important;
                margin-right: 0 !important;
            }
        }



        body.arabic-mode .social-title,
        body.arabic-mode .social-description {
            font-family: 'Cairo', sans-serif;
        }

        .discord-card .social-icon {
            animation: iconFloat 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px rgba(88, 101, 242, 0.8)) drop-shadow(0 0 40px rgba(88, 101, 242, 0.4));
        }

        .twitch-card .social-icon {
            animation: iconFloat 3.5s ease-in-out infinite 0.5s;
            filter: drop-shadow(0 0 20px rgba(145, 70, 255, 0.8)) drop-shadow(0 0 40px rgba(145, 70, 255, 0.4));
        }

        .youtube-card .social-icon {
            animation: iconFloat 3.2s ease-in-out infinite 1s;
            filter: drop-shadow(0 0 20px rgba(255, 0, 0, 0.8)) drop-shadow(0 0 40px rgba(255, 0, 0, 0.4));
        }

        .tiktok-card .social-icon {
            animation: iconFloat 2.8s ease-in-out infinite 1.5s;
            filter: drop-shadow(0 0 20px rgba(254, 44, 85, 0.8)) drop-shadow(0 0 40px rgba(254, 44, 85, 0.4));
        }

        .backloggd-card .social-icon {
            animation: iconFloat 3.7s ease-in-out infinite 2s;
            filter: drop-shadow(0 0 20px rgba(255, 107, 53, 0.8)) drop-shadow(0 0 40px rgba(255, 107, 53, 0.4));
        }

        .social-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .discord-card:hover {
            border-color: #5865F2;
            box-shadow: 0 10px 20px rgba(88, 101, 242, 0.3);
        }

        .twitch-card:hover {
            border-color: #9146FF;
            box-shadow: 0 10px 20px rgba(145, 70, 255, 0.3);
        }

        .youtube-card:hover {
            border-color: #FF0000;
            box-shadow: 0 10px 20px rgba(255, 0, 0, 0.3);
        }

        .tiktok-card:hover {
            border-color: #FE2C55;
            box-shadow: 0 10px 20px rgba(254, 44, 85, 0.3);
        }

        .backloggd-card:hover {
            border-color: #FF6B35;
            box-shadow: 0 10px 20px rgba(255, 107, 53, 0.3);
        }

        /* 4K Display (3840x2160) Simple Zoom */
        @media (min-width: 3840px) {
            body {
                zoom: 1.5;
                overflow-y: hidden;
            }
        }


        /* Allow scrolling only on 2K resolution */
        @media (min-width: 2560px) and (max-width: 2560px) {
            body {
                overflow-y: auto;
                height: auto;
                min-height: 100vh;
            }
        }
        /* Game Page Overlay - Responsive Design */
        .game-page-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.8s ease-in-out;
            padding: 2rem;
            overflow-y: auto;
        }

        body.arabic-mode .game-page-overlay {
            justify-content: flex-start !important;
            direction: ltr !important;
        }

        .game-page-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .game-page-content {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            max-width: min(800px, 90vw);
            width: 90%;
            text-align: center;
            margin: 0;
            margin-left: 3rem;
            position: relative;
        }

        .game-info-container {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 2rem;
            margin-top: 2rem;
            width: 100%;
            max-width: 600px;
            border: 2px solid rgba(255, 107, 53, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        body.arabic-mode .game-page-content {
            margin: 0 !important;
            margin-left: 3rem !important;
            text-align: center !important;
        }

        /* Responsive Game Cover - Perfect 1:1 Aspect Ratio */
        .game-page-cover {
            width: clamp(280px, 28vw, 360px);
            height: clamp(280px, 28vw, 360px);
            object-fit: cover;
            border-radius: 20px;
            margin-bottom: 2rem;
            border: 3px solid rgba(255, 107, 53, 0.6);
            transition: all 0.8s ease;
            cursor: pointer;
            position: relative;
        }

        /* ONLY for gamePageCover - fade to black animation */
        #gamePageCover.fade-black {
            filter: brightness(0);
        }

        /* ONLY for gamePageCover - 16:9 resize animation */
        #gamePageCover.video-mode {
            width: clamp(400px, 50vw, 640px);
            height: clamp(225px, 28.125vw, 360px);
            aspect-ratio: 16/9;
        }

        /* Video overlay container - ONLY for gamePageCover */
        #gamePageCover + .video-overlay {
            position: absolute;
            top: 0;
            left: 180px;
            width: clamp(400px, 50vw, 640px);
            height: auto;
            aspect-ratio: 16/9;
            border-radius: 20px;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        #gamePageCover + .video-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }

        #gamePageCover + .video-overlay iframe {
            width: 100%;
            height: 100%;
            border: none;
            pointer-events: none;
        }


        /* Video overlay container - ONLY for gamePageCover */
        #gamePageCover + .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: clamp(400px, 50vw, 640px);
            height: auto;
            aspect-ratio: 16/9;
            border-radius: 20px;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        /* Mobile responsive positioning for video overlay - CENTERED */
        @media (max-width: 768px) {
            #gamePageCover + .video-overlay {
                left: 50%;
                transform: translateX(-50%);
            }
        }

        /* iPhone 12 Pro and similar - smaller sizes */
        @media (max-width: 428px) and (max-height: 926px) {
            #gamePageCover {
                width: clamp(240px, 22vw, 280px);
                height: clamp(240px, 22vw, 280px);
            }
            
            #gamePageCover.video-mode {
                width: clamp(320px, 45vw, 540px);
                height: clamp(180px, 25.3vw, 304px);
                aspect-ratio: 16/9;
            }
            
            #gamePageCover + .video-overlay {
                width: clamp(320px, 45vw, 540px);
                height: clamp(180px, 25.3vw, 304px);
                aspect-ratio: 16/9;
            }
        }

        /* Desktop positioning for video overlay */
        @media (min-width: 769px) {
            #gamePageCover + .video-overlay {
                left: 180px;
            }
        }



        /* Game Tab System */
        .game-tabs {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin: -2rem 0 1rem 0;
        }

        .game-tab {
            padding: 0.8rem;
            cursor: pointer;
            border-radius: 15px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            position: relative;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tab-icon {
            width: 32px;
            height: 32px;
            filter: brightness(0.8) contrast(1.2);
            transition: all 0.3s ease;
        }

        .game-tab:hover {
            transform: translateY(-3px) scale(1.1);
            background: rgba(255, 107, 53, 0.1);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
        }

        .game-tab:hover .tab-icon {
            filter: brightness(1.2) contrast(1.3);
            transform: scale(1.1);
        }

        .game-tab.active {
            background: rgba(255, 107, 53, 0.2);
            border-color: #ff6b35;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.4);
        }

        .game-tab.active .tab-icon {
            filter: brightness(1.3) contrast(1.4) saturate(1.2);
            transform: scale(1.05);
        }

        .tab-separator {
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff6b35, transparent);
            margin-bottom: 2rem;
            border-radius: 1px;
        }

        /* Tab Content */
        .tab-content-container {
            position: relative;
            min-height: 300px;
        }

        .tab-content {
            opacity: 0;
            visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            transition: all 0.3s ease;
            transform: translateY(20px);
        }

        .tab-content.active {
            opacity: 1;
            visibility: visible;
            position: relative;
            transform: translateY(0);
        }

        /* Story Section */
        .story-section {
            text-align: center;
        }

        .story-text {
            color: #fff;
            line-height: 1.8;
            font-size: 1.1rem;
            font-weight: 300;
            font-family: 'Orbitron', monospace;
            letter-spacing: 0.5px;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Arabic font styling for story text */
        #gameStory.arabic {
            font-family: 'Cairo', 'Segoe UI', 'Roboto', sans-serif;
            font-weight: 700;
            letter-spacing: 0.3px;
        }

        /* Info Grid */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 107, 53, 0.2);
            transition: all 0.3s ease;
        }

        .info-item:hover {
            background: rgba(255, 107, 53, 0.1);
            border-color: rgba(255, 107, 53, 0.4);
            transform: translateY(-2px);
        }

        .info-label {
            color: #ff6b35;
            font-weight: bold;
            font-size: 1rem;
            display: block;
            margin-bottom: 0.5rem;
            font-family: 'Orbitron', monospace;
        }

        .info-value {
            color: #fff;
            font-size: 1.1rem;
            font-weight: 300;
        }

        /* Reviews Section */
        .reviews-section {
            text-align: center;
        }


        /* Story Slide Animations */
        .story-text {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .story-sliding-out {
            transform: translateX(-100%);
            opacity: 0;
        }

        .story-sliding-in {
            transform: translateX(100%);
            opacity: 0;
        }

        .story-visible {
            transform: translateX(0);
            opacity: 1;
        }

        .reviews-placeholder {
            background: rgba(255, 255, 255, 0.05);
            padding: 3rem;
            border-radius: 15px;
            border: 2px dashed rgba(255, 107, 53, 0.3);
            max-width: 600px;
            margin: 0 auto;
        }

        .reviews-placeholder p {
            color: #fff;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            opacity: 0.8;
        }

        .coming-soon {
            font-size: 1.5rem;
            color: #ff6b35;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .game-tabs {
                gap: 1rem;
                margin: 0 0 1rem 0;
            }
            
            .game-tab {
                padding: 0.6rem;
            }
            
            .tab-icon {
                width: 24px;
                height: 24px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .info-item {
                padding: 1rem;
            }
            
            .reviews-placeholder {
                padding: 2rem;
            }
            
            .tab-content-container {
                min-height: 250px;
            }
        }

        .game-details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .game-detail {
            display: flex;
            align-items: center;
            padding: 0.5rem 0;
            gap: 0.5rem;
        }

        .detail-label {
            color: #ff6b35;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
            font-size: clamp(0.8rem, 2vw, 1rem);
        }

        .detail-value {
            color: #fff;
            font-size: clamp(0.8rem, 2vw, 1rem);
        }

        /* High resolution adjustments (4K+) */
        @media (min-width: 2560px) {
            .game-page-cover {
                width: clamp(320px, 25vw, 400px);
                height: clamp(320px, 25vw, 400px);
            }
            
            .game-page-content {
                max-width: 1000px;
            }
            
            .game-info-container {
                max-width: 800px;
                padding: 3rem;
            }
        }

        /* Medium resolution adjustments (1080p to 1440p) */
        @media (min-width: 1920px) and (max-width: 2559px) {
            .game-page-cover {
                width: clamp(300px, 26vw, 380px);
                height: clamp(300px, 26vw, 380px);
            }
        }

        /* 1080p - Make it look like 2K */
        @media (min-width: 1920px) and (max-width: 1920px) {
            .game-page-cover {
                width: clamp(320px, 25vw, 400px);
                height: clamp(320px, 25vw, 400px);
            }
            
            .game-page-content {
                max-width: 1000px;
            }
            
            .game-info-container {
                max-width: 800px;
                padding: 3rem;
            }
        }

        /* Lower resolution adjustments (below 1080p) */
        @media (max-width: 1919px) {
            .game-page-cover {
                width: clamp(320px, 25vw, 400px);
                height: clamp(320px, 25vw, 400px);
            }
            
            .game-page-content {
                max-width: 1000px;
                width: 90%;
            }
            
            .game-info-container {
                max-width: 800px;
                padding: 3rem;
            }
            
        }

        /* Tablet adjustments */
        @media (max-width: 1024px) {
            .game-page-overlay {
                padding: 1rem;
                justify-content: center;
            }
            
            .game-page-cover {
                width: clamp(200px, 35vw, 280px);
                height: clamp(200px, 35vw, 280px);
            }
            
            .game-page-content {
                width: 95%;
                margin: 0 auto;
            }
            
            .game-info-container {
                padding: 1.5rem;
                margin-top: 1.5rem;
                width: 95%;
            }
            
            body.arabic-mode .game-page-content {
                margin: 0 auto !important;
            }
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .game-page-overlay {
                padding: 0.5rem;
                padding-top: 1rem;
                justify-content: center;
                align-items: flex-start;
            }
            
            .game-page-cover {
                width: clamp(180px, 50vw, 220px);
                height: clamp(180px, 50vw, 220px);
                margin-bottom: 1rem;
            }
            
            .game-page-content {
                margin-top: 1rem;
                width: 95%;
            }
            
            .game-details-grid {
                grid-template-columns: 1fr;
            }
            
            .game-info-container {
                padding: 1rem;
                background: rgba(0, 0, 0, 0.4) !important;
                border: 1px solid rgba(255, 107, 53, 0.3) !important;
                box-shadow: none !important;
                backdrop-filter: none !important;
            }
        }

        /* Fullscreen Loading Overlay */
        .fullscreen-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            border: none;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 20000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
            box-sizing: border-box;
        }

        .fullscreen-loading-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .loading-circle {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 107, 53, 0.3);
            border-top: 4px solid #ff6b35;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
            flex-shrink: 0;
        }

        .loading-text {
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            color: #ff6b35;
            text-align: center;
            letter-spacing: 2px;
            text-transform: uppercase;
            white-space: nowrap;
            flex-shrink: 0;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Audio Visualizer */
        .mute-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.8rem;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 15px rgba(70, 130, 180, 0.8)) drop-shadow(0 0 30px rgba(70, 130, 180, 0.4));
        }

        .mute-btn:hover {
            transform: scale(1.1);
        }

        .audio-visualizer {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 3px;
            width: 32px;
            height: 32px;
            position: relative;
        }

        .audio-visualizer .bar {
            width: 4px;
            background: linear-gradient(to top, #ff6b35, #dc143c);
            border-radius: 2px;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.6));
        }

        .audio-visualizer .bar:nth-child(1) {
            height: 12px;
            animation: audioBar 1.2s ease-in-out infinite;
        }

        .audio-visualizer .bar:nth-child(2) {
            height: 20px;
            animation: audioBar 1.5s ease-in-out infinite 0.2s;
        }

        .audio-visualizer .bar:nth-child(3) {
            height: 16px;
            animation: audioBar 1.1s ease-in-out infinite 0.4s;
        }

        .audio-visualizer .bar:nth-child(4) {
            height: 24px;
            animation: audioBar 1.3s ease-in-out infinite 0.1s;
        }

        .audio-visualizer .bar:nth-child(5) {
            height: 14px;
            animation: audioBar 1.4s ease-in-out infinite 0.3s;
        }

        @keyframes audioBar {
            0%, 100% {
                transform: scaleY(0.3);
                opacity: 0.6;
            }
            50% {
                transform: scaleY(1);
                opacity: 1;
            }
        }

        .audio-visualizer.muted .bar {
            opacity: 0.7;
            filter: grayscale(30%);
        }

        .audio-visualizer.muted::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 2px;
            background: #dc143c;
            transform: translate(-50%, -50%) rotate(45deg);
            border-radius: 1px;
            box-shadow: 0 0 5px rgba(220, 20, 60, 0.8);
            z-index: 10;
        }

        .mobile-mute-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.8rem;
            transition: all 0.3s ease;
        }

        /* 4K+ Loading adjustments */
        @media (min-width: 2560px) {
            .fullscreen-loading-overlay {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                width: 100% !important;
                height: 100% !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                flex-direction: column !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            
            .loading-circle {
                width: 80px;
                height: 80px;
                border-width: 6px;
                margin-bottom: 1.5rem;
            }
            
            .loading-text {
                font-size: 1.5rem;
                margin-top: 0;
            }
        }

        @media (max-width: 1919px) {
            .loading-circle {
                width: 70px;
                height: 70px;
                border-width: 5px;
            }
            
            .loading-text {
                font-size: 1.3rem;
            }
        }

        @media (max-width: 768px) {
            .loading-circle {
                width: 40px;
                height: 40px;
                border-width: 3px;
            }
            
            .loading-text {
                font-size: 1rem;
            }
        }

    </style>
</head>

<body>
    <div class="page-overlay" id="pageOverlay"></div>
    <div class="particles" id="particles"></div>

    <!-- Language transition overlay -->
    <div class="language-transition-overlay" id="languageOverlay"></div>

    <!-- Navigation -->
    <div class="nav">
        <!-- Keep same order in HTML -->
        <button class="nav-btn active" onclick="showSection('main')" data-en="Home" data-ar="الرئيسية">Home</button>
        <button class="nav-btn" onclick="showSection('games')" data-en="Games" data-ar="الألعاب">Games</button>
        <button class="nav-btn" onclick="showSection('guide')" data-en="Guide" data-ar="الدليل">Guide</button>
        <button class="nav-btn" onclick="showSection('screenshots')" data-en="Screenshots"
            data-ar="صور البرنامج">Screenshots</button>
        <button class="nav-btn" onclick="showSection('faq')" data-en="FAQ" data-ar="الأسئلة الشائعة">FAQ</button>
        <button class="nav-btn social-toggle" onclick="showSection('social')" data-en="Follow Us"
            data-ar="تابعنا">Follow Us</button>
        <button class="nav-btn arabic-toggle" onclick="toggleLanguage()" data-en="Arabic"
            data-ar="الإنجليزيه">العربية</button>
        <button class="mute-btn" onclick="toggleMute()" id="muteButton">
            <div class="audio-visualizer" id="audioVisualizer">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </button>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu-btn" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <div class="mobile-menu" id="mobileMenu">
        <button class="mobile-nav-btn active" onclick="showSection('main'); closeMobileMenu()" data-en="Home"
            data-ar="الرئيسية">Home</button>
        <button class="mobile-nav-btn" onclick="showSection('games'); closeMobileMenu()" data-en="Games"
            data-ar="الألعاب">Games</button>
        <button class="mobile-nav-btn" onclick="showSection('guide'); closeMobileMenu()" data-en="Guide"
            data-ar="الدليل">Guide</button>
        <button class="mobile-nav-btn" onclick="showSection('screenshots'); closeMobileMenu()" data-en="Screenshots"
            data-ar="لقطات الشاشة">Screenshots</button>
        <button class="mobile-nav-btn" onclick="showSection('faq'); closeMobileMenu()" data-en="FAQ"
            data-ar="الأسئلة الشائعة">FAQ</button>
        <button class="mobile-nav-btn social-toggle" onclick="showSection('social'); closeMobileMenu()"
            data-en="Follow Us" data-ar="تابعنا">Follow Us</button>
        <button class="mobile-nav-btn arabic-toggle" onclick="toggleLanguage(); closeMobileMenu()" data-en="Arabic"
            data-ar="الإنجليزيه">العربية</button>
        <button class="mobile-mute-btn" onclick="toggleMute()" id="mobileMuteButton">
            <div class="audio-visualizer">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </button>
    </div>

    <!-- Main Content (Original Subscription Page) -->
    <div id="main-section" class="content-section active">
        <div class="header">
            <h1 class="main-title" data-en="Retro Project" data-ar="مشروع ريترو">Retro Project</h1>
            <p class="subtitle" data-en="Subscription Tiers" data-ar="باقات الاشتراك">Subscription Tiers</p>
        </div>

        <div class="main-content">
            <div class="left-section">
                <h2 class="section-title" data-en="Monthly Plans" data-ar="الباقات الشهرية">Monthly Plans</h2>
                <div class="monthly-tiers">
                    <div class="tier-card grey monthly-plan">
                        <h3 class="tier-name" data-en="Single PC" data-ar="جهاز واحد">Single PC</h3>
                        <div class="tier-details">
                            <div class="price" data-en="45 SAR" data-ar="٤٥ ريال">45 SAR</div>
                            <div class="duration-label" data-en="1 PC • 1 Month" data-ar="جهاز واحد • شهر واحد">1 PC • 1
                                Month</div>
                        </div>
                    </div>

                    <div class="tier-card grey monthly-plan">
                        <h3 class="tier-name" data-en="Dual PC" data-ar="جهازين">Dual PC</h3>
                        <div class="tier-details">
                            <div class="price" data-en="65 SAR" data-ar="٦٥ ريال">65 SAR</div>
                            <div class="duration-label" data-en="2 PCs • 1 Month" data-ar="جهازين • شهر واحد">2 PCs • 1
                                Month</div>
                        </div>
                    </div>

                    <div class="tier-card grey monthly-plan">
                        <h3 class="tier-name" data-en="Triple PC" data-ar="ثلاثة أجهزة">Triple PC</h3>
                        <div class="tier-details">
                            <div class="price" data-en="85 SAR" data-ar="٨٥ ريال">85 SAR</div>
                            <div class="duration-label" data-en="3 PCs • 1 Month" data-ar="ثلاثة أجهزة • شهر واحد">3 PCs
                                • 1 Month</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-section">
                <h2 class="section-title" data-en="Extended Plans" data-ar="الباقات الممتدة">Extended Plans</h2>
                <div class="multi-month-tiers">
                    <div class="tier-card nero extended-plan">
                        <h3 class="tier-name" data-en="Devil Hunter" data-ar="صائد الشياطين">Devil Hunter</h3>
                        <div class="tier-details">
                            <div class="price" data-en="100 SAR" data-ar="١٠٠ ريال">100 SAR</div>
                            <div class="duration-label" data-en="1 PC • 3 Months" data-ar="جهاز واحد • ٣ أشهر">1 PC • 3
                                Months</div>
                        </div>
                    </div>

                    <div class="tier-card dante extended-plan">
                        <h3 class="tier-name" data-en="Dark Knight" data-ar="الفارس المظلم">Dark Knight</h3>
                        <div class="tier-details">
                            <div class="price" data-en="200 SAR" data-ar="٢٠٠ ريال">200 SAR</div>
                            <div class="duration-label" data-en="1 PC • 6 Months" data-ar="جهاز واحد • ٦ أشهر">1 PC • 6
                                Months</div>
                        </div>
                    </div>

                    <div class="tier-card premium extended-plan">
                        <h3 class="tier-name" data-en="Dark Slayer" data-ar="قاتل الظلام">Dark Slayer</h3>
                        <div class="tier-details">
                            <div class="price" data-en="300 SAR" data-ar="٣٠٠ ريال">300 SAR</div>
                            <div class="duration-label" data-en="1 PC • 12 Months" data-ar="جهاز واحد • ١٢ شهر">1 PC •
                                12 Months</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Games Content -->
    <div id="games-section" class="content-section">
        <div class="games-content">
            <div class="search-container">
                <div class="search-input-wrapper">
                    <div class="filter-chips" id="filterChips"></div>
                    <input type="text" class="search-box" placeholder="Search games..." id="gameSearch"
                        oninput="handleSearchInput()" onfocus="showSearchDropdown()" onblur="hideSearchDropdown()"
                        data-placeholder-en="Search games..." data-placeholder-ar="ابحث عن الألعاب...">
                </div>
                <div class="search-dropdown" id="searchDropdown"></div>
            </div>

            <div class="games-grid" id="gamesGrid">
                <!-- Games will be loaded here -->
            </div>

            <div class="no-results" id="noResults" style="display: none;">
                <div class="no-results-icon">🎮</div>
                <div data-en="No games found matching your search." data-ar="لم يتم العثور على ألعاب مطابقة لبحثك.">No
                    games found matching your search.</div>
            </div>

            <div class="pagination-container" id="paginationContainer">
                <button class="pagination-btn" id="prevBtn" onclick="changePage(-1)" data-en="← Previous"
                    data-ar="السابق →">← Previous</button>
                <div class="pagination-info" id="pageInfo" data-format-en="Page {current} of {total}"
                    data-format-ar="صفحة {current} من {total}">Page 1 of 1</div>
                <button class="pagination-btn" id="nextBtn" onclick="changePage(1)" data-en="Next →"
                    data-ar="← التالي">Next →</button>
                <div class="page-jump">
                    <span data-en="Jump to:" data-ar="انتقل إلى:">Jump to:</span> <input type="number" id="pageJump"
                        min="1" placeholder="1" onkeypress="jumpToPage(event)">
                </div>
            </div>
        </div>
    </div>

    <!-- Guide Content -->
    <div id="guide-section" class="content-section">
        <div class="guide-content">
            <div class="video-container">
                <div class="video-wrapper" style="position: relative;">
                    <img id="guideImage" src="https://i.imgur.com/XgNYMvT.jpeg" alt="RETRO PROJECT Installation Guide"
                        onclick="openGuideLightbox()" style="cursor: pointer;" />

                    <!-- Navigation Controls overlaid on image -->
                    <button class="nav-arrow guide-nav" id="guidePrev" onclick="changeGuideImage(-1)"
                        style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9)); border: 2px solid rgba(255, 107, 53, 0.4); border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; color: #ff6b35; cursor: pointer; transition: all 0.3s ease; backdrop-filter: blur(15px); z-index: 10;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>

                    <button class="nav-arrow guide-nav" id="guideNext" onclick="changeGuideImage(1)"
                        style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); background: linear-gradient(145deg, rgba(15, 15, 15, 0.9), rgba(30, 30, 30, 0.9)); border: 2px solid rgba(255, 107, 53, 0.4); border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; color: #ff6b35; cursor: pointer; transition: all 0.3s ease; backdrop-filter: blur(15px); z-index: 10;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>

                    <!-- Counter at bottom like lightbox -->
                    <div class="guide-counter" id="guideCounter"
                        style="position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); font-family: 'Orbitron', monospace; font-weight: 600; color: #ff6b35; font-size: 1rem; text-shadow: 0 0 10px rgba(255, 107, 53, 0.5); letter-spacing: 1px; background: rgba(15, 15, 15, 0.8); padding: 0.5rem 1rem; border-radius: 20px; border: 2px solid rgba(255, 107, 53, 0.4); backdrop-filter: blur(10px); z-index: 10;"
                        data-format-en="{current} of {total}" data-format-ar="{current} من {total}">1 of 7</div>
                </div>

                <div class="video-info">
                    <h2 class="video-title" data-en="Complete Installation & Usage Guide"
                        data-ar="دليل التثبيت والاستخدام الكامل">Complete Installation & Usage Guide</h2>
                    <p class="video-description"
                        data-en="Follow our comprehensive guide to install and set up RETRO PROJECT. Learn how to download, install, configure, and optimize your gaming experience with our step-by-step walkthrough."
                        data-ar="اتبع دليل الشرح الشامل لتثبيت وإعداد مشروع ريترو. تعلم كيفية التحميل والتثبيت وتحسين تجربة اللعب مع شرحنا خطوة بخطوة.">
                        Follow our comprehensive video guide to install and set up RETRO PROJECT.
                        Learn how to download, install, configure, and optimize your gaming experience
                        with our step-by-step walkthrough.
                    </p>
                </div>
            </div>

            <div class="video-features">
                <div class="feature-card" onclick="downloadSetup()" style="cursor: pointer;">
                    <div class="feature-icon">🔧</div>
                    <div class="feature-title" data-en="Installation" data-ar="التثبيت">Installation</div>
                    <div class="feature-text" data-en="Download and install Retro Project easily by clicking here"
                        data-ar="حمل وثبّت مشروع ريترو بسهولة بالضغط هنا">Download and install RETRO PROJECT with our
                        easy setup wizard and
                        configuration guide</div>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🎮</div>
                    <div class="feature-title" data-en="Activation & UI" data-ar="التفعيل والواجهة">Activation & UI
                    </div>
                    <div class="feature-text"
                        data-en="Activate your subscription and learn to navigate the sleek interface and features"
                        data-ar="قم بتفعيل اشتراكك وتعلم التنقل في الواجهة الأنيقة والميزات">Activate your subscription
                        and learn to navigate the sleek interface and
                        features</div>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">📦</div>
                    <div class="feature-title" data-en="Installing Games" data-ar="تثبيت الألعاب">Installing Games</div>
                    <div class="feature-text"
                        data-en="Browse, download, and install games with enhanced graphics and performance optimization"
                        data-ar="تصفح وحمل وثبت الألعاب مع رسومات محسنة وتحسين الأداء">Browse, download, and install
                        games with enhanced graphics and performance
                        optimization</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Screenshots Content -->
    <div id="screenshots-section" class="content-section">
        <div class="screenshots-content">
            <div class="screenshot-section">
                <!-- Badge Navigation -->
                <div class="screenshot-badges">
                    <div class="screenshot-badge active" onclick="switchScreenshotMode('program')" data-en="PROGRAM UI"
                        data-ar="واجهة البرنامج">PROGRAM UI</div>
                    <div class="screenshot-badge after-badge" onclick="switchScreenshotMode('enhancements')"
                        data-en="Enhancement" data-ar="التحسينات">
                        ENHANCEMENTS</div>
                </div>

                <h2 class="section-title-screenshots" id="screenshotTitle" data-en="🎨 Interface" data-ar="🎨 الواجهة">
                    🎨 Interface</h2>

                <div class="screenshot-content" id="screenshotContent">
                    <!-- Program UI Content (Default) -->
                    <div class="screenshots-grid" id="programContent">
                        <div class="screenshot-card" onclick="openLightboxMobile(0)">
                            <img class="screenshot-image" src="https://imgur.com/L3FTCSl.jpg"
                                alt="Program Screenshot 1">
                        </div>

                        <div class="screenshot-card" onclick="openLightboxMobile(1)">
                            <img class="screenshot-image" src="https://imgur.com/bhnwcv7.jpg"
                                alt="Program Screenshot 2">
                        </div>

                        <div class="screenshot-card" onclick="openLightboxMobile(2)">
                            <img class="screenshot-image" src="https://imgur.com/Cr9rtqC.jpg"
                                alt="Program Screenshot 3">
                        </div>

                        <div class="screenshot-card" onclick="openLightboxMobile(3)">
                            <img class="screenshot-image" src="https://imgur.com/ZJpfAaR.jpg"
                                alt="Program Screenshot 4">
                        </div>
                    </div>

                    <!-- Before/After Content (Hidden by default) -->
                    <div class="image-comparison-container" id="enhancementsContent" style="display: none;">
                        <div class="image-comparison-slider" id="comparisonSlider">
                            <div class="comparison-image original-image">
                                <img id="originalImg" src="https://imgur.com/zt35DB9.jpg" alt="Original"
                                    draggable="false">
                                <div class="image-label original-label" data-en="ORIGINAL" data-ar="الأصلية">ORIGINAL
                                </div>
                            </div>
                            <div class="comparison-image enhanced-image">
                                <img id="enhancedImg" src="https://imgur.com/XSOBrWv.jpg" alt="Enhanced"
                                    draggable="false">
                                <div class="image-label enhanced-label" data-en="ENHANCED" data-ar="المحسنة">ENHANCED
                                </div>
                            </div>
                            <div class="slider-handle" id="sliderHandle">
                                <div class="slider-line"></div>
                                <div class="slider-button">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation Controls -->
                        <div class="comparison-navigation">
                            <button class="nav-arrow prev-arrow" id="prevExample"
                                onclick="document.body.classList.contains('arabic-mode') ? changeExample(1) : changeExample(-1)">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>

                            <div class="example-info">
                                <span class="example-counter" id="exampleCounter"
                                    data-format-en="Example {current} of {total}"
                                    data-format-ar="مثال {current} من {total}">Example 1 of 4</span>
                            </div>

                            <button class="nav-arrow next-arrow" id="nextExample"
                                onclick="document.body.classList.contains('arabic-mode') ? changeExample(-1) : changeExample(1)">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Feature Cards Section -->
                <div class="screenshot-features">
                    <div class="screenshot-feature-card">
                        <div class="screenshot-feature-icon">✨</div>
                        <div class="screenshot-feature-title" data-en="Enhanced Gaming Experience"
                            data-ar="تجربة لعب محسنة">Enhanced Gaming Experience</div>
                        <div class="screenshot-feature-text"
                            data-en="Enjoy modded games featuring enhanced graphics, rare mods, and customized content for a fully immersive classic and modern gaming experience"
                            data-ar="استمتع بالألعاب المعدّلة التي تحتوي على رسومات محسّنة، تعديلات نادره، ومحتوى معدل لتجربة لعب كلاسيكية وحديثه متكامله">
                            Experience games with HD textures, visual upgrades, modded
                            content, and enhanced graphics for the ultimate retro gaming experience</div>
                    </div>

                    <div class="screenshot-feature-card">
                        <div class="screenshot-feature-icon">⚡</div>
                        <div class="screenshot-feature-title" data-en="Smart Features" data-ar="ميزات ذكية">Smart
                            Features</div>
                        <div class="screenshot-feature-text"
                            data-en="Experience console-like ease with lightning-fast downloads, automatic save management, and a built-in cheats database for enhanced gameplay"
                            data-ar="تجربة مشابهة لأجهزة الألعاب المنزلية مع تنزيلات فائقة السرعة، إدارة تلقائية للحفظ، وقاعدة غش مدمجة لتحسين تجربة اللعب">
                            Lightning-fast downloads, automatic save management, and
                            built-in cheats database for enhanced gameplay experience</div>
                    </div>

                    <div class="screenshot-feature-card">
                        <div class="screenshot-feature-icon">🌐</div>
                        <div class="screenshot-feature-title" data-en="Online Multiplayer and Localization"
                            data-ar="اللعب الجماعي والتعريب">Global Gaming</div>
                        <div class="screenshot-feature-text"
                            data-en="Play online multiplayer with RETRO PROJECT users worldwide, plus full Arabic translation and localized gaming experience"
                            data-ar="العب مع مستخدمي مشروع ريترو من جميع أنحاء العالم عبر الإنترنت، مع تعريبات للألعاب للغه العربيه">
                            Play online multiplayer with RETRO PROJECT users worldwide,
                            plus full Arabic translation and localized gaming experience</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Content -->
    <div id="faq-section" class="content-section">
        <div class="faq-content">
            <div class="faq-sections">
                <!-- General Questions (Vergil Theme - Blue) -->
                <div class="faq-section vergil">
                    <h2 class="faq-section-title" data-en="🎮 General Questions" data-ar="🎮 أسئلة عامة">🎮 General
                        Questions</h2>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="What is RETRO PROJECT?"
                            data-ar="ما هو مشروع ريترو؟">
                            What is RETRO PROJECT?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en="A sleek platform for downloading retro and modern PC games with enhanced graphics, mod support, lightning-fast downloads, and the simplicity of console gaming."
                                data-ar="منصة لتحميل وإدارة الألعاب القديمة والحديثة، تتضمن نسخ محسّنة ومعدّلة من الألعاب، مع سهولة استخدام تشبه أجهزة الألعاب المنزلية. ">
                                A gaming platform to download and manage retro and modern PC games with enhanced
                                graphics, mods, and fast download speeds.
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="Which platforms are supported?"
                            data-ar="ما هي المنصات المدعومة؟">
                            Which platforms are supported?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en="40+ platforms: PlayStation (1–5), Xbox Series, Nintendo, Sega, PC, and retro handhelds."
                                data-ar="أكثر من 40 منصة: بلايستيشن (1-5)، إكس بوكس، نينتندو، سيجا، الكمبيوتر، والأجهزة المحمولة الكلاسيكية.">
                                40+ platforms: PlayStation (1–5), Xbox Series, Nintendo, Sega, PC, and retro handhelds.
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="Can I try before subscribing?"
                            data-ar="هل يمكنني التجربة قبل الاشتراك؟">
                            Can I try before subscribing?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en='Download our free demo from <a href="https://archive.org/download/retroproject/Setup.exe" target="_blank">📥Download</a>'
                                data-ar='حمل النسخة التجريبية المجانية من <a href="https://archive.org/download/retroproject/Setup.exe" target="_blank">📥التحميل</a>'>
                                Download our free demo from <a href="https://discord.gg/keGpTJqBT7"
                                    target="_blank">📥𝐃𝐨𝐰𝐧𝐥𝐨𝐚𝐝</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Games & Content (Vergil Theme - Blue) -->
                <div class="faq-section vergil">
                    <h2 class="faq-section-title" data-en="💾 Games & Content" data-ar="💾 الألعاب والمحتوى">💾 Games &
                        Content</h2>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="How many games available?"
                            data-ar="كم عدد الألعاب المتاحة؟">
                            How many games available?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en="Over 3,000 games with 100+ new additions monthly, including the latest game releases."
                                data-ar="أكثر من 3000 لعبة مع أكثر من 100 إضافة جديدة شهرياً، بما في ذلك أحدث إصدارات الألعاب.">
                                Over 3,000 games with 100+ new additions monthly, including the latest game releases.
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="What makes this different?"
                            data-ar="ما الذي يجعل هذا مختلفاً؟">
                            What makes this different?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en="Enhanced visuals, gameplay improvements, sleek UI, built-in cheats, save management, and social features, all in one powerful platform."
                                data-ar="تحسينات في الرسومات وأسلوب اللعب، واجهة أنيقة، أدوات غش مدمجة، إدارة ملفات الحفظ، وميزات اجتماعية, كل ذلك في منصة واحدة متكاملة">
                                HD textures, mods, sleek UI, save management, built-in cheats, and social features in
                                one platform.
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="Can I request games?"
                            data-ar="هل يمكنني طلب ألعاب؟">
                            Can I request games?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en='You can Request Games Here <a href="https://discord.gg/qn8GB7XXYJ" target="_blank">🎮Request</a>'
                                data-ar='يمكنك طلب الألعاب هنا <a href="https://discord.gg/qn8GB7XXYJ" target="_blank">🎮طلب</a>'>
                                <span data-en="You can Request Games Here " data-ar="يمكنك طلب الألعاب هنا "></span><a
                                    href="https://discord.gg/qn8GB7XXYJ" target="_blank" data-en="🎮Request"
                                    data-ar="🎮طلب">🎮Request</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Features (Dante Theme - Red) -->
                <div class="faq-section dante">
                    <h2 class="faq-section-title" data-en="🎨 Features" data-ar="🎨 الميزات">🎨 Features</h2>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="Wallpapers and themes?"
                            data-ar="خلفيات وثيمات؟">
                            Wallpapers and themes?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en="High-quality wallpapers and theme songs for every game."
                                data-ar="خلفيات عالية الجودة وأغاني لكل لعبة في القوائم">
                                High-quality animated wallpapers and theme songs for every game.
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="📸Memories room?"
                            data-ar="غرفة الذكريات 📸؟">
                            📸𝐌𝐞𝐦𝐨𝐫𝐢𝐞𝐬 room?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en="Share screenshots instantly with Ctrl+F12, and clips with Ctrl+F11."
                                data-ar="شارك لقطات الشاشة فوراً باستخدام Ctrl+F12، ومقاطع الفيديو باستخدام Ctrl+F11.">
                                Quickly share screenshots with the community using the left touchpad (PS4/PS5) or
                                Ctrl+F12, and clips with the right touchpad or Ctrl+F11. Clips last 40 seconds.
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="Cheat codes included?"
                            data-ar="أكواد الغش مضمنة؟">
                            Cheat codes included?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content" data-en="Built-in cheat database with easy access."
                                data-ar="قاعدة بيانات غش مدمجة مع وصول سهل.">
                                Built-in cheat database with easy access.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Support (Dante Theme - Red) -->
                <div class="faq-section dante">
                    <h2 class="faq-section-title" data-en="⚙️ Support" data-ar="⚙️ الدعم">⚙️ Support</h2>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="System requirements?"
                            data-ar="متطلبات النظام؟">
                            System requirements?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en="Optimized for various hardware - games come pre-configured for best performance."
                                data-ar="محسّن لأجهزة مختلفة - الألعاب تأتي مُعدة مسبقاً لأفضل أداء.">
                                Optimized for various hardware - games come pre-configured for best performance.
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="Save management?"
                            data-ar="إدارة الحفظ؟">
                            Save management?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en="Scans your PC for all your saves and manages them automatically."
                                data-ar=".يفحص جهازك لجميع ملفات الحفظ ويديرها تلقائياً">
                                Scans your PC for all your saves and manages them automatically with sync between PC and
                                emulator saves plus cloud backup.
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFAQ(this)" data-en="Technical issues?"
                            data-ar="مشاكل تقنية؟">
                            Technical issues?
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content"
                                data-en='Our Team Will Help You here <a href="https://discord.gg/ZsmVfPBz2r" target="_blank">🛠️Support</a>'
                                data-ar='فريقنا سيساعدك هنا <a href="https://discord.gg/ZsmVfPBz2r" target="_blank">🛠️الدعم</a>'>
                                Our Team Will Help You here <a href="https://discord.gg/ZsmVfPBz2r"
                                    target="_blank">🛠️𝐒𝐮𝐩𝐩𝐨𝐫𝐭 Discord</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Social Content -->
    <div id="social-section" class="content-section">
        <div class="social-content"
            style="max-width: 1200px; margin: 0; margin-left: -5rem; padding: 2rem; position: relative; z-index: 2; transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); display: flex; flex-direction: column; padding-top: 200px;">

            <h2 class="section-title"
                style="font-family: 'Orbitron', monospace; font-size: 2.8rem; font-weight: 600; color: #4682b4; text-shadow: 0 0 15px rgba(70, 130, 180, 0.6); margin-bottom: 3rem; text-align: center; letter-spacing: 1px; animation: sectionTitleBounce 0.8s ease-out;"
                data-en="🌐 Follow Us" data-ar="🌐 تابعنا">🌐 Follow Us</h2>

            <div class="social-cards"
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; animation: fadeInUp 1s ease-out 0.5s both;">

                <!-- Discord Card -->
                <div class="social-card discord-card" onclick="window.open('https://discord.gg/fbTagp4fQV', '_blank')"
                    style="background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5)); border: 2px solid rgba(70, 130, 180, 0.4); border-radius: 15px; padding: 2rem; text-align: center; transition: all 0.3s ease; cursor: pointer; position: relative; overflow: hidden;">
                    <div class="social-icon" style="font-size: 4rem; margin-bottom: 1rem; color: #5865F2;"><img
                            src="https://i.imgur.com/xkvAknY.png" alt="Discord" style="width: 64px; height: 64px;">
                    </div>
                    <div class="social-title"
                        style="font-family: 'Orbitron', monospace; font-size: 1.4rem; font-weight: 600; color: #e0e0e0; margin-bottom: 0.5rem;"
                        data-en="Discord" data-ar="ديسكورد">Discord</div>
                    <div class="social-description" style="font-size: 0.9rem; color: #ccc; line-height: 1.5;" data-en=""
                        data-ar="">Join our community for support & updates</div>
                </div>

                <!-- Twitch Card -->
                <div class="social-card twitch-card" onclick="window.open('https://www.twitch.tv/d1vergil', '_blank')"
                    style="background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5)); border: 2px solid rgba(70, 130, 180, 0.4); border-radius: 15px; padding: 2rem; text-align: center; transition: all 0.3s ease; cursor: pointer; position: relative; overflow: hidden;">
                    <div class="social-icon" style="font-size: 4rem; margin-bottom: 1rem; color: #9146FF;"><img
                            src="https://i.imgur.com/5dm4oC9.png" alt="Twitch" style="width: 64px; height: 64px;"></div>
                    <div class="social-title"
                        style="font-family: 'Orbitron', monospace; font-size: 1.4rem; font-weight: 600; color: #e0e0e0; margin-bottom: 0.5rem;"
                        data-en="Twitch" data-ar="تويتش">Twitch</div>
                    <div class="social-description" style="font-size: 0.9rem; color: #ccc; line-height: 1.5;" data-en=""
                        data-ar="">Watch live gaming sessions</div>
                </div>

                <!-- YouTube Card -->
                <div class="social-card youtube-card"
                    onclick="window.open('https://www.youtube.com/@D1Vergil', '_blank')"
                    style="background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5)); border: 2px solid rgba(70, 130, 180, 0.4); border-radius: 15px; padding: 2rem; text-align: center; transition: all 0.3s ease; cursor: pointer; position: relative; overflow: hidden;">
                    <div class="social-icon" style="font-size: 4rem; margin-bottom: 1rem; color: #FF0000;"><img
                            src="https://i.imgur.com/DrRBYoZ.png" alt="YouTube" style="width: 64px; height: 64px;">
                    </div>
                    <div class="social-title"
                        style="font-family: 'Orbitron', monospace; font-size: 1.4rem; font-weight: 600; color: #e0e0e0; margin-bottom: 0.5rem;"
                        data-en="YouTube" data-ar="يوتيوب">YouTube</div>
                    <div class="social-description" style="font-size: 0.9rem; color: #ccc; line-height: 1.5;" data-en=""
                        data-ar="">Tutorials and gameplay videos</div>
                </div>

                <!-- TikTok Card -->
                <div class="social-card tiktok-card"
                    onclick="window.open('https://www.tiktok.com/@dark1vergil', '_blank')"
                    style="background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5)); border: 2px solid rgba(70, 130, 180, 0.4); border-radius: 15px; padding: 2rem; text-align: center; transition: all 0.3s ease; cursor: pointer; position: relative; overflow: hidden;">
                    <div class="social-icon" style="font-size: 4rem; margin-bottom: 1rem; color: #FE2C55;"><img
                            src="https://i.imgur.com/mQzVD2T.png" alt="TikTok" style="width: 64px; height: 64px;"></div>
                    <div class="social-title"
                        style="font-family: 'Orbitron', monospace; font-size: 1.4rem; font-weight: 600; color: #e0e0e0; margin-bottom: 0.5rem;"
                        data-en="TikTok" data-ar="تيك توك">TikTok</div>
                    <div class="social-description" style="font-size: 0.9rem; color: #ccc; line-height: 1.5;" data-en=""
                        data-ar="">Quick gaming clips and highlights</div>
                </div>

                <!-- Backloggd Card -->
                <div class="social-card backloggd-card"
                    onclick="window.open('https://backloggd.com/u/Dark1Vergil/', '_blank')"
                    style="background: linear-gradient(145deg, rgba(10, 10, 10, 0.5), rgba(25, 25, 25, 0.5)); border: 2px solid rgba(70, 130, 180, 0.4); border-radius: 15px; padding: 2rem; text-align: center; transition: all 0.3s ease; cursor: pointer; position: relative; overflow: hidden;">
                    <div class="social-icon" style="font-size: 4rem; margin-bottom: 1rem; color: #FF6B35;"><img
                            src="https://i.imgur.com/uki9mhL.png" alt="Backloggd" style="width: 64px; height: 64px;">
                    </div>
                    <div class="social-title"
                        style="font-family: 'Orbitron', monospace; font-size: 1.4rem; font-weight: 600; color: #e0e0e0; margin-bottom: 0.5rem;"
                        data-en="Backloggd" data-ar="مسيرتي في عالم الألعاب">Backloggd</div>
                    <div class="social-description" style="font-size: 0.9rem; color: #ccc; line-height: 1.5;" data-en=""
                        data-ar="">Track my gaming progress</div>
                </div>

            </div>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div class="lightbox-overlay" id="lightboxOverlay" onclick="closeLightbox(event)">
        <div class="lightbox-container">
            <button class="lightbox-nav prev" id="lightboxPrev" onclick="navigateLightbox(-1)">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
            <button class="lightbox-nav next" id="lightboxNext" onclick="navigateLightbox(1)">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
            <img class="lightbox-image" id="lightboxImage" src="" alt="Program Screenshot">
            <div class="lightbox-counter" id="lightboxCounter" data-format-en="{current} of {total}"
                data-format-ar="{current} من {total}">1 of 4</div>
        </div>
    </div>

    <!-- Fullscreen Loading Overlay -->
    <div id="fullscreenLoading" class="fullscreen-loading-overlay">
        <div class="loading-circle"></div>
        <div class="loading-text">Loading Game...</div>
    </div>

    <!-- Game Page Overlay -->
    <div id="gamePageOverlay" class="game-page-overlay" onclick="closeGamePage(event)">
        <div class="game-page-content">
            <img id="gamePageCover" class="game-page-cover" src="" alt="">
            <div class="game-info-container">
                <!-- Tab Navigation -->
                <div class="game-tabs">
                    <div class="game-tab" data-tab="info">
                        <img src="https://i.imgur.com/dCuwFrV.png" alt="Info" class="tab-icon">
                    </div>
                    <div class="game-tab active" data-tab="story">
                        <img src="https://i.imgur.com/5zmU3sr.png" alt="Story" class="tab-icon">
                    </div>
                    <div class="game-tab" data-tab="reviews">
                        <img src="https://i.imgur.com/I9NCEHx.png" alt="Reviews" class="tab-icon">
                    </div>
                </div>
                
                <div class="tab-separator"></div>
                
                <!-- Tab Content Areas -->
                <div class="tab-content-container">
                    <!-- Story Tab -->
                    <div class="tab-content active" id="storyTab">
                        <div class="story-section">
                            <div id="gameStory" class="story-text">Loading game information...</div>
                        </div>
                    </div>
                    
                    <!-- Info Tab -->
                    <div class="tab-content" id="infoTab">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Release Date:</span>
                                <span id="gameReleaseDate" class="info-value">Loading...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Platform:</span>
                                <span id="gamePlatform" class="info-value">Loading...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Genre:</span>
                                <span id="gameGenre" class="info-value">Loading...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Developer:</span>
                                <span id="gameDeveloper" class="info-value">Loading...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Length:</span>
                                <span id="gameLength" class="info-value">Loading...</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Rating:</span>
                                <span id="gameRating" class="info-value">Loading...</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Reviews Tab -->
                    <div class="tab-content" id="reviewsTab">
                        <div class="reviews-section">
                            <div class="reviews-placeholder">
                                <p>Reviews and comments will be available here soon!</p>
                                <div class="coming-soon">🔜 Coming Soon</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <audio id="backgroundMusic" loop>
        <source src="https://archive.org/download/gmusicfame/Demon%20World.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Language state
        let currentLanguage = 'en';
        let isMuted = false;
        let storyLanguage = 'en'; // Track story-specific language
        let currentGameData = null; // Store current game data for language switching

        // Story language switching functionality
        let isLanguageSwitching = false; // Prevent multiple simultaneous switches
        let isTabSwitching = false; // Prevent language switching during tab transitions
        
        function switchStoryLanguage() {
            if (!currentGameData) return;
            
            if (isLanguageSwitching) return;
            
            // Don't switch language if we're in the middle of tab switching
            if (isTabSwitching) return;
            
            isLanguageSwitching = true;
            const storyText = document.getElementById('gameStory');
            
            // Toggle language
            storyLanguage = storyLanguage === 'en' ? 'ar' : 'en';
            
            // Store current height and prepare smooth transition
            const currentHeight = storyText.offsetHeight;
            storyText.style.height = currentHeight + 'px';
            storyText.style.transition = 'opacity 0.6s ease-in-out, height 0.6s ease-in-out';
            storyText.style.opacity = '0';
            
            setTimeout(() => {
                // Find raw game data from the original database
                const gameName = currentGameData.originalName || '';
                let rawGameData = null;
                
                // Search for raw game data in retroData
                if (window.retroData && gameName) {
                    // Try exact match first - this should be prioritized
                    rawGameData = window.retroData.find(game => 
                        game.Name && game.Name.toLowerCase() === gameName.toLowerCase()
                    );
                    
                    // If no exact match, try exact match with alternative name from currentGameData
                    if (!rawGameData && currentGameData.name) {
                        const altName = currentGameData.name;
                        rawGameData = window.retroData.find(game => 
                            game.Name && game.Name.toLowerCase() === altName.toLowerCase()
                        );
                    }
                    
                    // Only if both exact matches fail, try partial matching
                    if (!rawGameData) {
                        rawGameData = window.retroData.find(game => 
                            game.Name && (
                                game.Name.toLowerCase().includes(gameName.toLowerCase()) ||
                                gameName.toLowerCase().includes(game.Name.toLowerCase())
                            )
                        );
                    }
                    
                    // Final fallback - partial matching with alternative name
                    if (!rawGameData && currentGameData.name) {
                        const altName = currentGameData.name;
                        rawGameData = window.retroData.find(game => 
                            game.Name && (
                                game.Name.toLowerCase().includes(altName.toLowerCase()) ||
                                altName.toLowerCase().includes(game.Name.toLowerCase())
                            )
                        );
                    }
                }
                
                // Update content
                let newStory;
                
                if (storyLanguage === 'ar' && rawGameData && rawGameData.DescriptionArabic) {
                    newStory = rawGameData.DescriptionArabic;
                    storyText.classList.add('arabic');
                } else {
                    // For English, prefer raw database description, fallback to processed story
                    if (rawGameData && rawGameData.Description) {
                        newStory = rawGameData.Description;
                    } else {
                        newStory = currentGameData.story; // Fallback to processed story
                    }
                    storyText.classList.remove('arabic');
                }
                
                storyText.innerHTML = newStory;
                
                // Calculate new height and update smoothly
                storyText.style.height = 'auto';
                const newHeight = storyText.offsetHeight;
                storyText.style.height = currentHeight + 'px';
                
                // Force layout recalculation
                storyText.offsetHeight;
                
                // First resize the container while text is hidden
                setTimeout(() => {
                    storyText.style.height = newHeight + 'px';
                    
                    // Then fade in the text after resize is underway
                    setTimeout(() => {
                        storyText.style.opacity = '1';
                        
                        setTimeout(() => {
                            isLanguageSwitching = false;
                            // Clean up inline styles
                            storyText.style.transition = '';
                            storyText.style.height = '';
                        }, 600);
                    }, 300);
                }, 50);
            }, 800);
        }


        // Tab switching functionality
        function initGameTabs() {
            const tabs = document.querySelectorAll('.game-tab');
            const tabContents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Special handling for story tab - switch language if already active
                    if (targetTab === 'story' && this.classList.contains('active')) {
                        switchStoryLanguage();
                        return;
                    }
                    
                    // Set flag to prevent language switching during tab transition
                    isTabSwitching = true;
                    switchTab(targetTab);
                    
                    // Reset flag after tab transition completes
                    setTimeout(() => {
                        isTabSwitching = false;
                    }, 200);
                });
            });
        }

        function switchTab(targetTab) {
            const tabs = document.querySelectorAll('.game-tab');
            const tabContents = document.querySelectorAll('.tab-content');
            const targetContent = document.getElementById(targetTab + 'Tab');

            // Remove active class from all tabs
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Add active class to clicked tab
            const activeTab = document.querySelector(`[data-tab="${targetTab}"]`);
            if (activeTab) activeTab.classList.add('active');

            // Get container for height transitions
            const gameInfoContainer = document.querySelector('.game-info-container');
            
            // Fade out current content
            tabContents.forEach(content => {
                if (content.classList.contains('active')) {
                    // Store current height
                    const currentHeight = gameInfoContainer.offsetHeight;
                    gameInfoContainer.style.height = currentHeight + 'px';
                    gameInfoContainer.style.transition = 'height 0.3s ease-in-out';
                    
                    content.style.opacity = '0';
                    content.style.transform = 'translateY(20px)';
                    
                    setTimeout(() => {
                        content.classList.remove('active');
                        
                        // Fade in new content
                        if (targetContent) {
                            targetContent.classList.add('active');
                            
                            // Calculate new height
                            gameInfoContainer.style.height = 'auto';
                            const newHeight = gameInfoContainer.offsetHeight;
                            gameInfoContainer.style.height = currentHeight + 'px';
                            
                            // Animate to new height and fade in content
                            requestAnimationFrame(() => {
                                gameInfoContainer.style.height = newHeight + 'px';
                                targetContent.style.opacity = '1';
                                targetContent.style.transform = 'translateY(0)';
                                
                                // Clean up after animation
                                setTimeout(() => {
                                    gameInfoContainer.style.height = '';
                                    gameInfoContainer.style.transition = '';
                                }, 300);
                            });
                        }
                    }, 150);
                }
            });

            // If no current active content, directly show target
            const hasActiveContent = Array.from(tabContents).some(content => 
                content.classList.contains('active')
            );
            
            if (!hasActiveContent && targetContent) {
                targetContent.classList.add('active');
                targetContent.style.opacity = '1';
                targetContent.style.transform = 'translateY(0)';
            }
        }

        function toggleMute() {
            const audio = document.getElementById('backgroundMusic');
            const muteButton = document.getElementById('muteButton');
            const visualizer = document.getElementById('audioVisualizer');

            if (isMuted) {
                // Fade in
                visualizer.classList.remove('muted');
                isMuted = false;
                
                // Gradually increase volume
                let vol = 0;
                const fadeIn = setInterval(() => {
                    if (vol < 0.2) {
                        vol += 0.01;
                        audio.volume = vol;
                    } else {
                        audio.volume = 0.2;
                        clearInterval(fadeIn);
                    }
                }, 50);
                
                audio.muted = false;
            } else {
                // Fade out
                visualizer.classList.add('muted');
                isMuted = true;
                
                // Gradually decrease volume
                let vol = audio.volume;
                const fadeOut = setInterval(() => {
                    if (vol > 0) {
                        vol -= 0.01;
                        audio.volume = vol;
                    } else {
                        audio.volume = 0;
                        audio.muted = true;
                        clearInterval(fadeOut);
                    }
                }, 50);
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const btn = document.querySelector('.mobile-menu-btn');
            const pageContent = document.querySelectorAll('.content-section, .particles');
            const header = document.querySelector('.header');

            // Clear any existing timeouts
            if (mobileMenuTimeout) clearTimeout(mobileMenuTimeout);
            if (mobileMenuFadeTimeout) clearTimeout(mobileMenuFadeTimeout);

            if (menu.classList.contains('active')) {
                // Close menu with fade out
                menu.style.opacity = '0';
                menu.style.visibility = 'hidden';
                menu.classList.remove('active');
                btn.classList.remove('active');

                mobileMenuTimeout = setTimeout(() => {
                    // Only execute if menu is still not active (wasn't reopened)
                    if (!menu.classList.contains('active')) {
                        menu.style.display = 'none';
                        // Fade page content back in
                        pageContent.forEach(element => {
                            element.style.transition = 'opacity 0.5s ease';
                            element.style.opacity = '1';
                        });
                        // Fade header back in with same timing
                        header.style.transition = 'opacity 0.5s ease';
                        header.style.opacity = '1';
                    }
                }, 500);
            } else {
                // Open menu
                // Fade page content out but keep particles
                pageContent.forEach(element => {
                    if (element.id !== 'particles') {
                        element.style.transition = 'opacity 0.5s ease';
                        element.style.opacity = '0';
                    }
                });
                // Fade header out with same timing
                header.style.transition = 'opacity 0.5s ease';
                header.style.opacity = '0';

                mobileMenuTimeout = setTimeout(() => {
                    // Only execute if we're still trying to open the menu
                    if (!menu.classList.contains('active')) {
                        // Set display and ensure opacity is 0 before starting fade
                        menu.style.display = 'flex';
                        menu.style.opacity = '0';
                        menu.style.visibility = 'visible';
                        menu.classList.add('active');
                        btn.classList.add('active');

                        // Force reflow to ensure styles are applied
                        menu.offsetHeight;

                        // Now fade in
                        mobileMenuFadeTimeout = setTimeout(() => {
                            // Only fade in if menu is still active
                            if (menu.classList.contains('active')) {
                                menu.style.opacity = '1';
                                // Keep particles visible
                                document.getElementById('particles').style.opacity = '1';
                                // Show header in mobile menu
                                header.style.opacity = '1';
                            }
                        }, 10);
                    }
                }, 500);
            }
        }

        function closeMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const btn = document.querySelector('.mobile-menu-btn');
            const pageContent = document.querySelectorAll('.content-section, .particles');
            const header = document.querySelector('.header');

            // Clear any existing timeouts
            if (mobileMenuTimeout) clearTimeout(mobileMenuTimeout);
            if (mobileMenuFadeTimeout) clearTimeout(mobileMenuFadeTimeout);

            // Close menu with fade out
            menu.style.opacity = '0';
            menu.style.visibility = 'hidden';
            menu.classList.remove('active');
            btn.classList.remove('active');

            mobileMenuTimeout = setTimeout(() => {
                if (!menu.classList.contains('active')) {
                    menu.style.display = 'none';
                    // Fade page content back in after section transition completes
                    setTimeout(() => {
                        pageContent.forEach(element => {
                            element.style.transition = 'opacity 0.5s ease';
                            element.style.opacity = '1';
                        });
                        // Fade header back in with same timing
                        header.style.transition = 'opacity 0.5s ease';
                        header.style.opacity = '1';
                        // Ensure particles stay visible
                        document.getElementById('particles').style.opacity = '1';
                    }, 900); // Wait for section fade transition to complete
                }
            }, 500);
        }

        // Touch swipe functionality for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        function handleSwipe() {
            const swipeThreshold = 50; // Minimum distance for a swipe
            const swipeDistance = touchEndX - touchStartX;

            if (Math.abs(swipeDistance) > swipeThreshold) {
                // Check if we're in lightbox mode
                const lightboxOverlay = document.getElementById('lightboxOverlay');
                if (lightboxOverlay && lightboxOverlay.classList.contains('active')) {
                    if (swipeDistance > 0) {
                        // Swipe right - go to previous image
                        if (currentLanguage === 'ar') {
                            navigateLightbox(1);
                        } else {
                            navigateLightbox(-1);
                        }
                    } else {
                        // Swipe left - go to next image
                        if (currentLanguage === 'ar') {
                            navigateLightbox(-1);
                        } else {
                            navigateLightbox(1);
                        }
                    }
                }
                // Check if we're in guide section
                else if (document.getElementById('guide-section').classList.contains('active')) {
                    if (swipeDistance > 0) {
                        // Swipe right - go to previous guide image
                        if (currentLanguage === 'ar') {
                            changeGuideImage(1);
                        } else {
                            changeGuideImage(-1);
                        }
                    } else {
                        // Swipe left - go to next guide image
                        if (currentLanguage === 'ar') {
                            changeGuideImage(-1);
                        } else {
                            changeGuideImage(1);
                        }
                    }
                }
                // Check if we're in screenshots section with before/after mode
                else if (document.getElementById('screenshots-section').classList.contains('active') &&
                    currentScreenshotMode === 'enhancements') {
                    if (swipeDistance > 0) {
                        // Swipe right - go to previous comparison
                        changeExample(-1);
                    } else {
                        // Swipe left - go to next comparison
                        changeExample(1);
                    }
                }
            }
        }

        // Add touch event listeners for mobile devices
        if (window.innerWidth <= 768) {
            document.addEventListener('touchstart', function (e) {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });

            document.addEventListener('touchend', function (e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, { passive: true });
        }

        // Toggle language with background crossfade transition
        function toggleLanguage() {
            const overlay = document.getElementById('languageOverlay');
            const activeSection = document.querySelector('.content-section.active');

            // Set black background for transition
            overlay.style.backgroundImage = "none";
            overlay.style.background = "#000000";

            // First fade out the active content section
            if (activeSection) {
                activeSection.style.transition = 'opacity 0.3s ease-out';
                activeSection.style.opacity = '0';
            }

            // Show overlay after content starts fading
            setTimeout(() => {
                overlay.classList.add('active');

                setTimeout(() => {
                    if (currentLanguage === 'en') {
                        currentLanguage = 'ar';
                        document.body.classList.add('arabic-mode');
                        document.documentElement.dir = 'rtl';
                    } else {
                        currentLanguage = 'en';
                        document.body.classList.remove('arabic-mode');
                        document.documentElement.dir = 'ltr';
                    }

                    // Update all text content
                    updateLanguageContent();

                    // FIX: Reinitialize comparison slider if we're in enhancements mode
                    if (currentScreenshotMode === 'enhancements') {
                        setTimeout(() => {
                            initializeComparisonSlider();
                            updateNavigationState(); // Update button states for new language
                        }, 100);
                    }

                    // Force remove any backdrop-filter that might be applied during transition
                    if (window.innerWidth <= 768) {
                        document.querySelectorAll('.game-card, .game-info, .search-box, .search-container, .faq-section, .faq-item').forEach(element => {
                            element.style.backdropFilter = 'none';
                            element.style.webkitBackdropFilter = 'none';
                        });
                    }

                    // Fix image labels if in enhancements mode
                    if (currentScreenshotMode === 'enhancements') {
                        setTimeout(() => {
                            const originalLabel = document.querySelector('.original-label');
                            const enhancedLabel = document.querySelector('.enhanced-label');

                            if (originalLabel && enhancedLabel) {
                                originalLabel.style.visibility = 'visible';
                                originalLabel.style.opacity = '1';
                                enhancedLabel.style.visibility = 'visible';
                                enhancedLabel.style.opacity = '1';
                            }
                        }, 100);
                    }

                    // Remove overlay and fade content back in
                    setTimeout(() => {
                        overlay.classList.remove('active');
                        if (activeSection) {
                            activeSection.style.transition = 'opacity 0.3s ease-in';
                            activeSection.style.opacity = '1';
                        }
                    }, 200);
                }, 300);
            }, 150);

            // Save language preference
            localStorage.setItem('preferredLanguage', currentLanguage);
        }

        // Update all text content based on current language
        // Update all text content based on current language
        function updateLanguageContent() {
            // Update elements with data attributes
            document.querySelectorAll('[data-en]').forEach(element => {
                // Skip screenshot title as it needs special handling
                if (element.id === 'screenshotTitle') {
                    return;
                }

                const key = currentLanguage === 'en' ? 'data-en' : 'data-ar';
                if (element.innerHTML.includes('<a ')) {
                    // For elements with HTML links, use innerHTML
                    element.innerHTML = element.getAttribute(key);
                } else {
                    // For regular text elements, use textContent
                    element.textContent = element.getAttribute(key);
                }
            });

            // Update placeholders
            document.querySelectorAll('[data-placeholder-en]').forEach(element => {
                const key = currentLanguage === 'en' ? 'data-placeholder-en' : 'data-placeholder-ar';
                element.placeholder = element.getAttribute(key);
            });

            // Update screenshot title based on current mode
            const screenshotTitle = document.getElementById('screenshotTitle');
            if (screenshotTitle) {
                if (currentScreenshotMode === 'program') {
                    const titleText = currentLanguage === 'en' ? '🎨 Interface' : '🎨 الواجهة';
                    screenshotTitle.textContent = titleText;
                } else if (currentScreenshotMode === 'enhancements') {
                    const titleText = currentLanguage === 'en' ? '✨ Visual Enhancements' : '✨ التحسينات المرئية';
                    screenshotTitle.textContent = titleText;
                }
            }

            // Update formatted content (pagination, counters)
            updateFormattedContent();

            // Update page info
            updatePagination();

            // Update guide images when language changes
            if (document.getElementById('guideImage')) {
                // Reset to first image and preload all images for new language
                currentGuideIndex = 0;
                const images = guideImages[currentLanguage];
                document.getElementById('guideImage').src = images[currentGuideIndex];
                updateGuideNavigation();
                preloadGuideImages();
            }
        }



        // Update formatted content like counters
        function updateFormattedContent() {
            // Update pagination info
            const pageInfo = document.getElementById('pageInfo');
            if (pageInfo) {
                const format = currentLanguage === 'en' ?
                    pageInfo.getAttribute('data-format-en') :
                    pageInfo.getAttribute('data-format-ar');
                pageInfo.textContent = format
                    .replace('{current}', currentPage)
                    .replace('{total}', totalPages);
            }

            // Update example counter
            const exampleCounter = document.getElementById('exampleCounter');
            if (exampleCounter) {
                const format = currentLanguage === 'en' ?
                    exampleCounter.getAttribute('data-format-en') :
                    exampleCounter.getAttribute('data-format-ar');
                exampleCounter.textContent = format
                    .replace('{current}', currentExample + 1)
                    .replace('{total}', comparisonExamples.length);
            }

            // Update lightbox counter
            const lightboxCounter = document.getElementById('lightboxCounter');
            if (lightboxCounter) {
                const format = currentLanguage === 'en' ?
                    lightboxCounter.getAttribute('data-format-en') :
                    lightboxCounter.getAttribute('data-format-ar');
                lightboxCounter.textContent = format
                    .replace('{current}', currentLightboxIndex + 1)
                    .replace('{total}', programScreenshots.length);
            }
        }

        // Game covers data - will be loaded from external file
        let gameCovers = [];
        let allGames = [];
        let filteredGames = [];
        let currentPage = 1;
        let gamesPerPage = window.innerWidth <= 768 ? 14 : 20; // 14 for mobile, 20 for desktop
        let totalPages = 1;
        let isSearching = false;

        // Screenshot mode tracking
        let currentScreenshotMode = 'program';
        let currentExample = 0;
        let currentLightboxIndex = 0;

        // Search and filter functionality
        let activeFilters = [];
        let searchDropdownTimeout = null;

        // Program UI screenshots data
        const programScreenshots = [
            'https://imgur.com/L3FTCSl.jpg',
            'https://imgur.com/bhnwcv7.jpg',
            'https://imgur.com/Cr9rtqC.jpg',
            'https://imgur.com/ZJpfAaR.jpg'
        ];

        // Lightbox functions
        function openLightbox(index) {
            // Don't open lightbox on mobile
            if (window.innerWidth <= 768) {
                return;
            }

            currentLightboxIndex = index;
            const overlay = document.getElementById('lightboxOverlay');
            const image = document.getElementById('lightboxImage');

            image.src = programScreenshots[index];
            updateFormattedContent();

            overlay.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling

            updateLightboxNavigation();
        }

        // Mobile-aware lightbox function
        function openLightboxMobile(index) {
            // Don't open lightbox on mobile
            if (window.innerWidth <= 768) {
                return;
            }

            openLightbox(index);
        }

        // Download setup function
        function downloadSetup() {
            window.open('https://archive.org/download/retroproject/setup.exe', '_blank');
        }

        function closeLightbox(event) {
            // Close only if clicking on overlay or close button
            if (event && event.target !== event.currentTarget && !event.target.classList.contains('lightbox-close')) {
                return;
            }

            const overlay = document.getElementById('lightboxOverlay');
            overlay.classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
        }

        function navigateLightbox(direction) {
            currentLightboxIndex += direction;

            // Loop around if at boundaries
            if (currentLightboxIndex < 0) currentLightboxIndex = programScreenshots.length - 1;
            if (currentLightboxIndex >= programScreenshots.length) currentLightboxIndex = 0;

            const image = document.getElementById('lightboxImage');
            image.style.transition = 'opacity 0.3s ease-in-out';
            image.style.opacity = '0';

            setTimeout(() => {
                image.src = programScreenshots[currentLightboxIndex];
                updateFormattedContent();
                setTimeout(() => {
                    image.style.opacity = '1';
                }, 100);
            }, 300);

            updateLightboxNavigation();
        }

        function updateLightboxNavigation() {
            const prevBtn = document.getElementById('lightboxPrev');
            const nextBtn = document.getElementById('lightboxNext');

            // Enable all navigation (we're using loop-around)
            prevBtn.disabled = false;
            nextBtn.disabled = false;
        }

        // ESC key to close lightbox
        document.addEventListener('keydown', function (e) {
    // Don't interfere with video controls
    if (youtubePlayer && (e.key === ' ' || e.key === 'ArrowLeft' || e.key === 'ArrowRight')) {
        return;
    }
    
    if (e.key === 'Escape') {
        closeLightbox();
    }
            if (e.key === 'ArrowLeft') {
                if (currentLanguage === 'ar') {
                    navigateLightbox(1);
                } else {
                    navigateLightbox(-1);
                }
            }
            if (e.key === 'ArrowRight') {
                if (currentLanguage === 'ar') {
                    navigateLightbox(-1);
                } else {
                    navigateLightbox(1);
                }
            }
        });

        // Example data
        const comparisonExamples = [
            {
                original: 'https://imgur.com/zt35DB9.jpg',
                enhanced: 'https://imgur.com/XSOBrWv.jpg'
            },
            {
                original: 'https://imgur.com/tbgcbCL.jpg',
                enhanced: 'https://imgur.com/NlGhtKi.jpg'
            },
            {
                original: 'https://i.imgur.com/BauyXiu.png',
                enhanced: 'https://i.imgur.com/9ySKA6T.png'
            },
            {
                original: 'https://i.imgur.com/jcTDMAx.jpeg',
                enhanced: 'https://i.imgur.com/u5GcKFQ.jpeg'
            },
            {
                original: 'https://i.imgur.com/rqwJYb0.png',
                enhanced: 'https://i.imgur.com/5kSNI74.png'
            }
        ];

        // Change example function
        function changeExample(direction) {
            const newExample = currentExample + direction;

            // Check boundaries
            if (newExample < 0 || newExample >= comparisonExamples.length) return;

            currentExample = newExample;

            // Update images with fade effect
            updateComparisonImages();

            // Update navigation state
            updateNavigationState();
        }

        // Update comparison images
        function updateComparisonImages() {
            const slider = document.getElementById('comparisonSlider');
            const originalImg = document.getElementById('originalImg');
            const enhancedImg = document.getElementById('enhancedImg');
            const originalContainer = document.querySelector('.original-image');
            const enhancedContainer = document.querySelector('.enhanced-image');

            if (!originalImg || !enhancedImg || !slider) return;

            // Preload new images first
            const newOriginalImg = new Image();
            const newEnhancedImg = new Image();
            let imagesLoaded = 0;

            const checkLoaded = () => {
                imagesLoaded++;
                if (imagesLoaded === 2) {
                    // Both images loaded, now start fade animation
                    slider.classList.add('fading');

                    setTimeout(() => {
                        // Update image sources
                        originalImg.src = comparisonExamples[currentExample].original;
                        enhancedImg.src = comparisonExamples[currentExample].enhanced;

                        // Remove fading class
                        slider.classList.remove('fading');

                        // Reset slider to 50%
                        const handle = document.getElementById('sliderHandle');
                        if (handle) {
                            const percentage = 50;
                            handle.style.left = percentage + '%';

                            if (document.body.classList.contains('arabic-mode')) {
                                originalContainer.style.clipPath = `polygon(${percentage}% 0, 100% 0, 100% 100%, ${percentage}% 100%)`;
                                enhancedContainer.style.clipPath = `polygon(0 0, ${percentage}% 0, ${percentage}% 100%, 0 100%)`;
                            } else {
                                originalContainer.style.clipPath = `polygon(0 0, ${percentage}% 0, ${percentage}% 100%, 0 100%)`;
                                enhancedContainer.style.clipPath = `polygon(${percentage}% 0, 100% 0, 100% 100%, ${percentage}% 100%)`;
                            }
                        }
                    }, 300);
                }
            };

            // Preload the images
            newOriginalImg.onload = checkLoaded;
            newEnhancedImg.onload = checkLoaded;
            newOriginalImg.onerror = checkLoaded;
            newEnhancedImg.onerror = checkLoaded;

            newOriginalImg.src = comparisonExamples[currentExample].original;
            newEnhancedImg.src = comparisonExamples[currentExample].enhanced;
        }

        // Update navigation state
        function updateNavigationState() {
            const prevBtn = document.getElementById('prevExample');
            const nextBtn = document.getElementById('nextExample');

            if (document.body.classList.contains('arabic-mode')) {
                // In Arabic mode: left button is next, right button is previous
                if (prevBtn) prevBtn.disabled = currentExample === comparisonExamples.length - 1;
                if (nextBtn) nextBtn.disabled = currentExample === 0;
            } else {
                // In English mode: left button is previous, right button is next
                if (prevBtn) prevBtn.disabled = currentExample === 0;
                if (nextBtn) nextBtn.disabled = currentExample === comparisonExamples.length - 1;
            }

            updateFormattedContent();
        }

        function changeGuideImage(direction) {
            const images = guideImages[currentLanguage];
            const newIndex = currentGuideIndex + direction;

            if (newIndex < 0 || newIndex >= images.length) return;

            currentGuideIndex = newIndex;

            const guideImage = document.getElementById('guideImage');
            guideImage.style.transition = 'opacity 0.8s ease-in-out';
            guideImage.style.opacity = '0';

            setTimeout(() => {
                guideImage.src = images[currentGuideIndex];
                updateGuideNavigation();
                setTimeout(() => {
                    guideImage.style.opacity = '1';
                }, 100);
            }, 800);
        }


        // Update guide navigation state
        function updateGuideNavigation() {
            const images = guideImages[currentLanguage];
            const prevBtn = document.getElementById('guidePrev');
            const nextBtn = document.getElementById('guideNext');
            const counter = document.getElementById('guideCounter');

            if (prevBtn) prevBtn.disabled = currentGuideIndex === 0;
            if (nextBtn) nextBtn.disabled = currentGuideIndex === images.length - 1;

            if (counter) {
                const format = currentLanguage === 'en' ?
                    counter.getAttribute('data-format-en') :
                    counter.getAttribute('data-format-ar');
                counter.textContent = format
                    .replace('{current}', currentGuideIndex + 1)
                    .replace('{total}', images.length);
                counter.style.opacity = '1';
                counter.style.visibility = 'visible';
            }

            // Update button styles
            if (prevBtn) {
                if (currentGuideIndex === 0) {
                    prevBtn.style.opacity = '0.3';
                    prevBtn.style.cursor = 'not-allowed';
                } else {
                    prevBtn.style.opacity = '1';
                    prevBtn.style.cursor = 'pointer';
                }
            }

            if (nextBtn) {
                if (currentGuideIndex === images.length - 1) {
                    nextBtn.style.opacity = '0.3';
                    nextBtn.style.cursor = 'not-allowed';
                } else {
                    nextBtn.style.opacity = '1';
                    nextBtn.style.cursor = 'pointer';
                }
            }
        }

        // Open guide lightbox
        function openGuideLightbox() {
            // Don't open lightbox on mobile
            if (window.innerWidth <= 768) {
                return;
            }

            currentGuideLightboxIndex = currentGuideIndex;
            const overlay = document.getElementById('lightboxOverlay');
            const image = document.getElementById('lightboxImage');
            const images = guideImages[currentLanguage];

            image.src = images[currentGuideLightboxIndex];
            updateGuideLightboxCounter();

            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';

            updateGuideLightboxNavigation();
        }

        // Navigate guide lightbox
        function navigateGuideLightbox(direction) {
            const images = guideImages[currentLanguage];
            currentGuideLightboxIndex += direction;

            if (currentGuideLightboxIndex < 0) currentGuideLightboxIndex = images.length - 1;
            if (currentGuideLightboxIndex >= images.length) currentGuideLightboxIndex = 0;

            const image = document.getElementById('lightboxImage');
            image.style.transition = 'opacity 0.8s ease-in-out';
            image.style.opacity = '0';

            setTimeout(() => {
                image.src = images[currentGuideLightboxIndex];
                updateGuideLightboxCounter();
                setTimeout(() => {
                    image.style.opacity = '1';
                }, 100);
            }, 800);

            updateGuideLightboxNavigation();
        }


        // Update guide lightbox counter
        function updateGuideLightboxCounter() {
            const lightboxCounter = document.getElementById('lightboxCounter');
            const images = guideImages[currentLanguage];

            if (lightboxCounter) {
                const format = currentLanguage === 'en' ?
                    lightboxCounter.getAttribute('data-format-en') :
                    lightboxCounter.getAttribute('data-format-ar');
                lightboxCounter.textContent = format
                    .replace('{current}', currentGuideLightboxIndex + 1)
                    .replace('{total}', images.length);
            }
        }

        // Update guide lightbox navigation
        function updateGuideLightboxNavigation() {
            const prevBtn = document.getElementById('lightboxPrev');
            const nextBtn = document.getElementById('lightboxNext');

            if (prevBtn) prevBtn.disabled = false;
            if (nextBtn) nextBtn.disabled = false;
        }

        // Update existing openLightbox function to detect if it's from guide
        function openLightbox(index) {
            // Check if this is called from program screenshots
            currentLightboxIndex = index;
            const overlay = document.getElementById('lightboxOverlay');
            const image = document.getElementById('lightboxImage');

            image.src = programScreenshots[index];
            updateFormattedContent();

            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';

            updateLightboxNavigation();
        }

        // Preload all guide images
        function preloadGuideImages() {
            const images = guideImages[currentLanguage];

            images.forEach((imageSrc, index) => {
                const img = new Image();
                img.src = imageSrc;
            });

        }

        // Update existing navigateLightbox to handle both program and guide
        function navigateLightbox(direction) {
            // Check if we're in guide mode by checking current image source
            const currentSrc = document.getElementById('lightboxImage').src;
            const isGuideMode = guideImages.en.some(img => currentSrc.includes(img.split('/').pop())) ||
                guideImages.ar.some(img => currentSrc.includes(img.split('/').pop()));

            if (isGuideMode) {
                navigateGuideLightbox(direction);
            } else {
                // Original program screenshots navigation
                currentLightboxIndex += direction;

                if (currentLightboxIndex < 0) currentLightboxIndex = programScreenshots.length - 1;
                if (currentLightboxIndex >= programScreenshots.length) currentLightboxIndex = 0;

                const image = document.getElementById('lightboxImage');
                image.style.opacity = '0';

                setTimeout(() => {
                    image.src = programScreenshots[currentLightboxIndex];
                    updateFormattedContent();
                    image.style.opacity = '1';
                }, 200);

                updateLightboxNavigation();
            }
        }


        // Switch screenshot mode function
        function switchScreenshotMode(mode) {
            if (currentScreenshotMode === mode) return;

            const content = document.getElementById('screenshotContent');
            const title = document.getElementById('screenshotTitle');
            const programBadge = document.querySelector('.screenshot-badge:not(.after-badge)');
            const afterBadge = document.querySelector('.screenshot-badge.after-badge');
            const programContent = document.getElementById('programContent');
            const enhancementsContent = document.getElementById('enhancementsContent');

            // Add switching animation
            content.classList.add('switching');

            setTimeout(() => {
                if (mode === 'program') {
                    // Switch to Program UI
                    const titleText = currentLanguage === 'en' ? '🎨 Interface' : '🎨 الواجهة';
                    title.textContent = titleText;
                    title.style.color = '#4682b4';
                    title.style.textShadow = '0 0 15px rgba(70, 130, 180, 0.6)';

                    programContent.style.display = 'grid';
                    enhancementsContent.style.display = 'none';

                    programBadge.classList.add('active');
                    afterBadge.classList.remove('active');

                } else if (mode === 'enhancements') {
                    // Switch to Visual Enhancements
                    const titleText = currentLanguage === 'en' ? '✨ Visual Enhancements' : '✨ التحسينات المرئية';
                    title.textContent = titleText;
                    title.style.color = '#9370db';
                    title.style.textShadow = '0 0 15px rgba(147, 112, 219, 0.6)';

                    programContent.style.display = 'none';
                    enhancementsContent.style.display = 'block';

                    programBadge.classList.remove('active');
                    afterBadge.classList.add('active');

                    // Initialize comparison slider
                    setTimeout(() => {
                        initializeComparisonSlider();
                        updateNavigationState();
                    }, 100);
                }

                currentScreenshotMode = mode;

                // Remove switching animation
                content.classList.remove('switching');
            }, 200);
        }

        // Initialize comparison slider functionality
        function initializeComparisonSlider() {
            const slider = document.querySelector('.image-comparison-slider');
            const handle = document.getElementById('sliderHandle');
            const originalImage = document.querySelector('.original-image');
            const enhancedImage = document.querySelector('.enhanced-image');

            if (!slider || !handle) return;

            // Clear any existing event listeners by cloning the slider
            const newSlider = slider.cloneNode(true);
            slider.parentNode.replaceChild(newSlider, slider);

            // Get references to the new elements
            const newHandle = newSlider.querySelector('#sliderHandle');

            let isDragging = false;


            function updateSlider(clientX) {
                const sliderRect = newSlider.getBoundingClientRect();
                const percentage = Math.max(0, Math.min(100, ((clientX - sliderRect.left) / sliderRect.width) * 100));
                const newOriginalImage = newSlider.querySelector('.original-image');
                const newEnhancedImage = newSlider.querySelector('.enhanced-image');

                // Update handle position
                newHandle.style.left = percentage + '%';

                // Update clip paths
                if (document.body.classList.contains('arabic-mode')) {
                    newOriginalImage.style.clipPath = `polygon(${percentage}% 0, 100% 0, 100% 100%, ${percentage}% 100%)`;
                    newEnhancedImage.style.clipPath = `polygon(0 0, ${percentage}% 0, ${percentage}% 100%, 0 100%)`;
                } else {
                    newOriginalImage.style.clipPath = `polygon(0 0, ${percentage}% 0, ${percentage}% 100%, 0 100%)`;
                    newEnhancedImage.style.clipPath = `polygon(${percentage}% 0, 100% 0, 100% 100%, ${percentage}% 100%)`;
                }
            }

            // Handle tap navigation for mobile
            // Handle tap navigation for mobile
            let tapStartTime = 0;

            function handleTapStart(e) {
                tapStartTime = Date.now();
            }

            function handleTapNavigation(e) {
                if (window.innerWidth > 768) return; // Only for mobile

                const tapDuration = Date.now() - tapStartTime;

                // Only navigate if it was a quick tap (less than 200ms) and no dragging occurred
                if (tapDuration > 200 || isDragging) return;

                const slider = e.currentTarget;
                const rect = slider.getBoundingClientRect();
                const tapX = e.clientX - rect.left;
                const sliderWidth = rect.width;

                // Left third of image = previous, right third = next, middle third = no action
                if (tapX < sliderWidth * 0.33) {
                    // Left tap zone - previous image
                    changeExample(-1);
                } else if (tapX > sliderWidth * 0.67) {
                    // Right tap zone - next image
                    changeExample(1);
                }
                // Middle zone does nothing (allows normal slider interaction if needed)
            }

            // Mouse events
            function onMouseDown(e) {
                isDragging = true;
                updateSlider(e.clientX);
                e.preventDefault();
            }

            function onMouseMove(e) {
                if (!isDragging) return;
                updateSlider(e.clientX);
                e.preventDefault();
            }

            function onMouseUp() {
                isDragging = false;
            }

            // Touch events
            function onTouchStart(e) {
                isDragging = true;
                updateSlider(e.touches[0].clientX);
                e.preventDefault();
            }

            function onTouchMove(e) {
                if (!isDragging) return;
                updateSlider(e.touches[0].clientX);
                e.preventDefault();
            }

            function onTouchEnd() {
                isDragging = false;
            }

            // Add event listeners
            newSlider.addEventListener('mousedown', onMouseDown);
            document.addEventListener('mousemove', onMouseMove);
            document.addEventListener('mouseup', onMouseUp);

            if (window.innerWidth > 768) {
                // Desktop: normal slider functionality
                newSlider.addEventListener('touchstart', onTouchStart, { passive: false });

                document.addEventListener('touchmove', onTouchMove, { passive: false });
                document.addEventListener('touchend', onTouchEnd);
            } else {
                // Mobile: both drag and tap functionality
                newSlider.addEventListener('touchstart', onTouchStart, { passive: false });
                document.addEventListener('touchmove', onTouchMove, { passive: false });
                document.addEventListener('touchend', onTouchEnd);

                // Also add tap zones for navigation
                newSlider.addEventListener('touchstart', handleTapStart);
                newSlider.addEventListener('click', handleTapNavigation);
            }

            // Prevent image dragging
            newSlider.querySelectorAll('img').forEach(img => {
                img.addEventListener('dragstart', e => e.preventDefault());
            });

            // Initialize at 50%
            updateSlider(newSlider.getBoundingClientRect().left + newSlider.getBoundingClientRect().width / 2);
        }

        // Disabled game covers loading for testing
        async function loadGameCovers() {
            // Skip external loading, use placeholder only
            createPlaceholderGames();
        }

        // Create placeholder games for demo
        function createPlaceholderGames() {
            const placeholderGames = [];
            const gameNames = [
                'Devil May Cry 5', 'Resident Evil 4', 'Metal Gear Solid 3', 'Final Fantasy VII',
                'God of War', 'The Last of Us', 'Grand Theft Auto V', 'Red Dead Redemption 2',
                'Cyberpunk 2077', 'The Witcher 3', 'Assassin\'s Creed Odyssey', 'Spider-Man',
                'Horizon Zero Dawn', 'Ghost of Tsushima', 'Bloodborne', 'Dark Souls III',
                'Sekiro', 'Elden Ring', 'Monster Hunter World', 'Persona 5',
                'Yakuza 0', 'Tekken 7', 'Street Fighter 6', 'Mortal Kombat 11',
                'Call of Duty Modern Warfare', 'Battlefield 2042', 'Apex Legends', 'Fortnite',
                'Minecraft', 'Terraria', 'Stardew Valley', 'Among Us',
                'Fall Guys', 'Rocket League', 'Overwatch 2', 'Valorant',
                'Counter-Strike 2', 'Dota 2', 'League of Legends', 'World of Warcraft'
            ];

            for (let i = 0; i < gameNames.length; i++) {
                placeholderGames.push({
                    name: gameNames[i],
                    cover: `data:image/svg+xml;base64,${btoa(`<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#222"/><text x="50%" y="50%" font-family="Arial" font-size="14" fill="#ff6b35" text-anchor="middle" dy=".3em">${gameNames[i]}</text></svg>`)}`,
                    searchName: gameNames[i].toLowerCase()
                });
            }

            allGames = placeholderGames;
            filteredGames = [...allGames];
            updatePagination();
            displayCurrentPage();
        }

        // Extract game name from URL
        function extractGameName(url) {
            const filename = url.split('/').pop();
            const nameWithoutExtension = filename.replace(/\.(jpg|jpeg|png|gif)$/i, '');
            return decodeURIComponent(nameWithoutExtension);
        }

        // Create game object from URL
        function createGameObject(url) {
            return {
                name: extractGameName(url),
                cover: url,
                searchName: extractGameName(url).toLowerCase()
            };
        }

        // Update pagination info
        function updatePagination() {
            totalPages = Math.ceil(filteredGames.length / gamesPerPage);
            if (totalPages === 0) totalPages = 1;
            if (currentPage > totalPages) currentPage = totalPages;
            if (currentPage < 1) currentPage = 1;

            // Update pagination display
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const pageJump = document.getElementById('pageJump');

            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages;
            pageJump.max = totalPages;
            pageJump.placeholder = currentPage.toString();

            // Update page info with language support
            updateFormattedContent();
        }

        // Display current page of games
        function displayCurrentPage() {
            const gamesGrid = document.getElementById('gamesGrid');
            const noResults = document.getElementById('noResults');

            if (filteredGames.length === 0) {
                gamesGrid.innerHTML = '';
                noResults.style.display = 'block';
                updatePagination();
                return;
            }

            noResults.style.display = 'none';

            // Calculate start and end indices for current page
            const startIndex = (currentPage - 1) * gamesPerPage;
            const endIndex = Math.min(startIndex + gamesPerPage, filteredGames.length);
            const currentPageGames = filteredGames.slice(startIndex, endIndex);

            // Start with all cards hidden
            const newHTML = currentPageGames.map((game, index) => {
    // Find the full game data including YouTube URL
    const fullGameData = allGameData.find(g => g.name === game.name);
    const youtubeUrl = fullGameData ? fullGameData.youtubeUrl : '';
    
    return `
        <div class="game-card" style="opacity: 0;" onclick="openGamePage('${game.name.replace(/'/g, "\\'")}', '${game.cover}', this, '${youtubeUrl.replace(/'/g, "\\'")}')">
            <img class="game-cover" 
                 src="${game.cover}" 
                 alt="${game.name}" 
                 onerror="handleImageError(this)" 
                 loading="eager">
        </div>
    `;
}).join('');

            gamesGrid.innerHTML = newHTML;
            updatePagination();

            // Animate cards in
            setTimeout(() => {
                animateGameCards();
            }, 50);

            // Preload next page images
            preloadNextPage();
        }

        // Change page
        function changePage(direction) {
            const newPage = currentPage + direction;
            if (newPage >= 1 && newPage <= totalPages) {
                const gamesGrid = document.getElementById('gamesGrid');
                const allCards = gamesGrid.querySelectorAll('.game-card');

                // Fade out current cards
                allCards.forEach((card) => {
                    card.style.transition = 'opacity 1.2s ease-in-out';
                    card.style.opacity = '0';
                });

                // Wait for fade out to complete, then change page
                setTimeout(() => {
                    currentPage = newPage;
                    displayCurrentPage();

                    // Only scroll on desktop, not mobile
                    if (window.innerWidth > 768) {
                        document.getElementById('gamesGrid').scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }, 1200);
            }
        }

        // Jump to specific page
        function jumpToPage(event) {
            if (event.key === 'Enter') {
                const pageNumber = parseInt(event.target.value);
                if (pageNumber >= 1 && pageNumber <= totalPages) {
                    currentPage = pageNumber;
                    displayCurrentPage();
                    event.target.value = '';

                    // Only scroll on desktop, not mobile
                    if (window.innerWidth > 768) {
                        document.getElementById('gamesGrid').scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            }
        }

        // Preload next page images
        function preloadNextPage() {
            const nextPage = currentPage + 1;
            if (nextPage <= totalPages) {
                const startIndex = (nextPage - 1) * gamesPerPage;
                const endIndex = Math.min(startIndex + gamesPerPage, filteredGames.length);
                const nextPageGames = filteredGames.slice(startIndex, endIndex);

                nextPageGames.forEach(game => {
                    const img = new Image();
                    img.src = game.cover;
                });
            }
        }

        // Animate game cards after images load
        function animateGameCards() {
            const gameCards = document.querySelectorAll('.game-card');

            gameCards.forEach((card) => {
                const img = card.querySelector('.game-cover');

                const onImageLoad = () => {
                    card.style.transition = 'opacity 1.2s ease-in-out';
                    card.style.opacity = '1';
                };

                if (img.complete) {
                    onImageLoad();
                } else {
                    img.addEventListener('load', onImageLoad);
                    img.addEventListener('error', onImageLoad);
                }
            });
        }

        // Handle image loading errors
        function handleImageError(img) {
            img.style.display = 'none';
            const card = img.closest('.game-card');
            const placeholder = document.createElement('div');
            placeholder.className = 'game-cover loading-skeleton';
            placeholder.style.display = 'flex';
            placeholder.style.alignItems = 'center';
            placeholder.style.justifyContent = 'center';
            placeholder.style.color = '#ff6b35';
            placeholder.style.fontSize = '2rem';
            placeholder.innerHTML = '🎮';
            img.parentNode.insertBefore(placeholder, img);
        }

        // Fuzzy search function
        function fuzzyMatch(pattern, str) {
            pattern = pattern.toLowerCase();
            str = str.toLowerCase();

            let patternIdx = 0;
            let strIdx = 0;
            let score = 0;
            let matches = [];

            while (patternIdx < pattern.length && strIdx < str.length) {
                if (pattern[patternIdx] === str[strIdx]) {
                    matches.push(strIdx);
                    score += 1;
                    patternIdx++;
                }
                strIdx++;
            }

            if (patternIdx === pattern.length) {
                // All pattern characters matched
                // Bonus for exact substring match
                if (str.includes(pattern)) {
                    score += pattern.length * 2;
                }
                // Bonus for word boundary matches
                const words = str.split(/\s+/);
                for (const word of words) {
                    if (word.startsWith(pattern.substring(0, Math.min(3, pattern.length)))) {
                        score += 5;
                    }
                }
                return score;
            }

            return 0; // No match
        }

        // Filter and search functionality
        function handleSearchInput() {
            const searchTerm = document.getElementById('gameSearch').value.toLowerCase().trim();
            updateSearchDropdown(searchTerm);
            performSearch();
        }

        function updateSearchDropdown(searchTerm) {
            const dropdown = document.getElementById('searchDropdown');
            
            let suggestions;
            
            if (searchTerm.length === 0) {
                // Show Trailers by default when search is empty
                if (!activeFilters.some(f => f.type === 'trailers')) {
                    suggestions = [{
                        type: 'trailers',
                        value: 'hasVideo',
                        display: 'Special Trailers',
                        icon: '🔖'
                    }];
                } else {
                    dropdown.classList.remove('show');
                    return;
                }
            } else {
                suggestions = generateSuggestions(searchTerm);
                
                if (suggestions.length === 0) {
                    dropdown.classList.remove('show');
                    return;
                }
            }

            dropdown.innerHTML = suggestions.map(suggestion => {
                if (suggestion.type === 'trailers') {
                    return `
                        <div class="dropdown-item" onclick="applySuggestion('${suggestion.type}', '${suggestion.value}', '${suggestion.display}')">
                            <span class="item-icon">${suggestion.icon}</span>
                            <span class="dropdown-special-chip">Special</span>
                            <span class="dropdown-trailers-text">Trailers</span>
                        </div>
                    `;
                } else if (suggestion.type === 'genre') {
                    return `
                        <div class="dropdown-item" onclick="applySuggestion('${suggestion.type}', '${suggestion.value}', '${suggestion.display}')">
                            <span class="item-icon">${suggestion.icon}</span>
                            <span class="dropdown-genre-chip">Genre</span>
                            <span class="dropdown-filter-text">${suggestion.display}</span>
                        </div>
                    `;
                } else if (suggestion.type === 'platform') {
                    return `
                        <div class="dropdown-item" onclick="applySuggestion('${suggestion.type}', '${suggestion.value}', '${suggestion.display}')">
                            <span class="item-icon">${suggestion.icon}</span>
                            <span class="dropdown-platform-chip">Platform</span>
                            <span class="dropdown-filter-text">${suggestion.display}</span>
                        </div>
                    `;
                } else if (suggestion.type === 'developer') {
                    return `
                        <div class="dropdown-item" onclick="applySuggestion('${suggestion.type}', '${suggestion.value}', '${suggestion.display}')">
                            <span class="item-icon">${suggestion.icon}</span>
                            <span class="dropdown-developer-chip">Developer</span>
                            <span class="dropdown-filter-text">${suggestion.display}</span>
                        </div>
                    `;
                } else {
                    return `
                        <div class="dropdown-item" onclick="applySuggestion('${suggestion.type}', '${suggestion.value}', '${suggestion.display}')">
                            <span class="item-icon">${suggestion.icon}</span>
                            <span>${suggestion.display}</span>
                            <span class="item-type">${suggestion.type}</span>
                        </div>
                    `;
                }
            }).join('');
            
            dropdown.classList.add('show');
        }

        function generateSuggestions(searchTerm) {
            const suggestions = [];
            
            // Get unique values from games data
            const genres = [...new Set(allGameData.flatMap(game => 
                game.genre ? [game.genre] : []
            ))];
            const platforms = [...new Set(allGameData.flatMap(game => 
                game.platform ? [game.platform] : []
            ))];
            const developers = [...new Set(allGameData.flatMap(game => 
                game.developer ? [game.developer] : []
            ))];

            // Genre suggestions
            genres.forEach(genre => {
                if (genre.toLowerCase().includes(searchTerm) && !activeFilters.some(f => f.type === 'genre' && f.value === genre)) {
                    suggestions.push({
                        type: 'genre',
                        value: genre,
                        display: genre,
                        icon: '🎲'
                    });
                }
            });

            // Platform suggestions  
            platforms.forEach(platform => {
                if (platform.toLowerCase().includes(searchTerm) && !activeFilters.some(f => f.type === 'platform' && f.value === platform)) {
                    suggestions.push({
                        type: 'platform',
                        value: platform,
                        display: platform,
                        icon: '⚡'
                    });
                }
            });

            // Developer suggestions
            developers.forEach(developer => {
                if (developer.toLowerCase().includes(searchTerm) && !activeFilters.some(f => f.type === 'developer' && f.value === developer)) {
                    suggestions.push({
                        type: 'developer',
                        value: developer,
                        display: developer,
                        icon: '💎'
                    });
                }
            });

            // Trailers suggestion (for games with YouTube videos)
            if ('trailers'.includes(searchTerm) && !activeFilters.some(f => f.type === 'trailers')) {
                suggestions.push({
                    type: 'trailers',
                    value: 'hasVideo',
                    display: 'Special Trailers',
                    icon: '🔖'
                });
            }

            return suggestions.slice(0, 6); // Limit suggestions
        }

        function applySuggestion(type, value, display) {
            // Add filter chip
            activeFilters.push({ type, value, display });
            updateFilterChips();
            
            // Clear search input
            document.getElementById('gameSearch').value = '';
            document.getElementById('searchDropdown').classList.remove('show');
            
            // Perform search with filters
            performSearch();
        }

        function updateFilterChips() {
            const container = document.getElementById('filterChips');
            container.innerHTML = activeFilters.map((filter, index) => {
                if (filter.type === 'trailers') {
                    return `
                        <div class="filter-chip special-chip" onclick="removeFilter(${index})">
                            <span>Trailers</span>
                        </div>
                    `;
                } else if (filter.type === 'genre') {
                    return `
                        <div class="filter-chip genre-chip" onclick="removeFilter(${index})">
                            <span>${filter.display}</span>
                        </div>
                    `;
                } else if (filter.type === 'platform') {
                    return `
                        <div class="filter-chip platform-chip" onclick="removeFilter(${index})">
                            <span>${filter.display}</span>
                        </div>
                    `;
                } else if (filter.type === 'developer') {
                    return `
                        <div class="filter-chip developer-chip" onclick="removeFilter(${index})">
                            <span>${filter.display}</span>
                        </div>
                    `;
                } else {
                    return `
                        <div class="filter-chip" onclick="removeFilter(${index})">
                            <span>${filter.display}</span>
                        </div>
                    `;
                }
            }).join('');
        }

        function removeFilter(index) {
            activeFilters.splice(index, 1);
            updateFilterChips();
            performSearch();
        }

        function showSearchDropdown() {
            // Clear any existing timeout
            clearTimeout(searchDropdownTimeout);
            // Show Trailers suggestion when clicking in empty search bar
            const searchTerm = document.getElementById('gameSearch').value.toLowerCase().trim();
            updateSearchDropdown(searchTerm);
        }

        function hideSearchDropdown() {
            // Delay hiding to allow clicks
            searchDropdownTimeout = setTimeout(() => {
                document.getElementById('searchDropdown').classList.remove('show');
            }, 200);
        }

        function performSearch() {
            const searchTerm = document.getElementById('gameSearch').value.toLowerCase().trim();
            console.log('Performing search with term:', searchTerm, 'Data available:', allGameData.length);
            
            let filtered = [...allGameData];

            // Apply active filters
            activeFilters.forEach(filter => {
                filtered = filtered.filter(game => {
                    switch(filter.type) {
                        case 'genre':
                            return game.genre && game.genre.toLowerCase() === filter.value.toLowerCase();
                        case 'platform':
                            return game.platform && game.platform.toLowerCase() === filter.value.toLowerCase();
                        case 'developer':
                            return game.developer && game.developer.toLowerCase() === filter.value.toLowerCase();
                        case 'trailers':
                            return game.youtubeUrl && game.youtubeUrl.trim() !== '';
                        default:
                            return true;
                    }
                });
            });

            // Apply text search with relevance scoring
            if (searchTerm) {
                filtered = filtered.filter(game => 
                    fuzzyMatch(searchTerm, game.name.toLowerCase()) > 0
                ).sort((a, b) => {
                    const aScore = fuzzyMatch(searchTerm, a.name.toLowerCase());
                    const bScore = fuzzyMatch(searchTerm, b.name.toLowerCase());
                    return bScore - aScore; // Sort by relevance (highest score first)
                });
            } else {
                // Sort alphabetically by sortingName when no search term (filters only)
                filtered.sort((a, b) => (a.sortingName || a.name).localeCompare(b.sortingName || b.name));
            }

            // Convert back to allGames format for display
            const gamesForDisplay = filtered.map(game => ({
                name: game.name,
                cover: game.cover,
                sortingName: game.sortingName || game.name,
                searchName: game.name.toLowerCase()
            }));
            
            // Update global variables
            filteredGames = gamesForDisplay;
            isSearching = searchTerm !== '' || activeFilters.length > 0;
            currentPage = 1;
            updatePagination();
            displayCurrentPage();
            console.log('Updated filteredGames:', filteredGames.length, 'games');
        }

        // Search functionality with fuzzy search
        function searchGames() {
            const searchTerm = document.getElementById('gameSearch').value.toLowerCase().trim();

            if (searchTerm === '') {
                filteredGames = [...allGames].sort((a, b) => (a.sortingName || a.name).localeCompare(b.sortingName || b.name));
                isSearching = false;
            } else {
                isSearching = true;
                // Fuzzy search with scoring
                const searchResults = allGames.map(game => {
                    const score = fuzzyMatch(searchTerm, game.searchName);
                    return { game, score };
                }).filter(result => result.score > 0);

                // Sort by score (highest first)
                searchResults.sort((a, b) => b.score - a.score);

                filteredGames = searchResults.map(result => result.game);
            }

            // Reset to first page when searching
            currentPage = 1;
            displayCurrentPage();
        }

        // Navigation functionality
        function showSection(sectionName) {
            const allSections = document.querySelectorAll('.content-section');
            const currentActiveSection = document.querySelector('.content-section.active');

            // Check if mobile
            const isMobile = window.innerWidth <= 768;
            const fadeOutTime = isMobile ? 500 : 800;
            const fadeInTime = isMobile ? 500 : 800;
            const delayTime = isMobile ? 100 : 100;

            // Remove active class from all nav buttons
            document.querySelectorAll('.nav-btn, .mobile-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Add active class to clicked button
            if (event && event.target) {
                event.target.classList.add('active');
            }

            // Fade out current section
            if (currentActiveSection) {
                currentActiveSection.style.transition = `opacity ${fadeOutTime}ms ease-in-out`;
                currentActiveSection.style.opacity = '0';

                setTimeout(() => {
                    // Hide all sections
                    allSections.forEach(section => {
                        section.classList.remove('active');
                        section.style.opacity = '0';
                    });

                    // Show and fade in new section
                    const newSection = document.getElementById(sectionName + '-section');
                    newSection.classList.add('active');

                    setTimeout(() => {
                        newSection.style.transition = `opacity ${fadeInTime}ms ease-in-out`;
                        newSection.style.opacity = '1';
                    }, delayTime);

                }, fadeOutTime);
            }
            else {
                // No current section, just show new one
                const newSection = document.getElementById(sectionName + '-section');
                newSection.classList.add('active');
                newSection.style.opacity = '1';
            }

            // Preload guide images when entering guide section
            if (sectionName === 'guide') {
                preloadGuideImages();
            }

            // Handle background music
            const audio = document.getElementById('backgroundMusic');
            audio.play().catch(() => { });

        }

        // FAQ functionality
        function toggleFAQ(element) {
            const answer = element.nextElementSibling;
            const isActive = element.classList.contains('active');

            // Close all other FAQ items in the same section
            const section = element.closest('.faq-section');
            section.querySelectorAll('.faq-question').forEach(question => {
                question.classList.remove('active');
                question.nextElementSibling.classList.remove('active');
            });

            // Toggle current item
            if (!isActive) {
                element.classList.add('active');
                answer.classList.add('active');
            }
        }

        // Initialize music
        function initializeMusic() {
            const audio = document.getElementById('backgroundMusic');
            audio.volume = 0;

            function attemptAutoPlay() {
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        fadeInMusic();
                    }).catch((error) => {
                        setupUserInteractionFallback();
                    });
                }
            }

            function fadeInMusic() {
                let vol = 0;
                const fadeIn = setInterval(() => {
                    if (vol < 0.2) {
                        vol += 0.01;
                        audio.volume = vol;
                    } else {
                        audio.volume = 0.2;
                        clearInterval(fadeIn);
                    }
                }, 50);
            }

            function setupUserInteractionFallback() {
                const startMusic = () => {
                    audio.play().then(() => {
                        fadeInMusic();
                        document.removeEventListener('click', startMusic);
                        document.removeEventListener('keydown', startMusic);
                        document.removeEventListener('touchstart', startMusic);
                    }).catch(() => { });
                };

                document.addEventListener('click', startMusic);
                document.addEventListener('keydown', startMusic);
                document.addEventListener('touchstart', startMusic);
            }

            attemptAutoPlay();
            setTimeout(attemptAutoPlay, 500);
            setTimeout(attemptAutoPlay, 1500);
        }

        // Create fire embers and ash particles with Arabic mode support
        function createFireEffect() {
            const particlesContainer = document.getElementById('particles');

            function createEmber() {
                const ember = document.createElement('div');
                const sizes = ['small', 'medium', 'large'];
                const size = sizes[Math.floor(Math.random() * sizes.length)];

                ember.className = `ember ${size}`;
                ember.style.left = Math.random() * 100 + '%';
                ember.style.setProperty('--drift', (Math.random() - 0.5) * 200 + 'px');
                ember.style.animationDuration = (Math.random() * 4 + 6) + 's';
                ember.style.animationDelay = Math.random() * 2 + 's';

                particlesContainer.appendChild(ember);

                setTimeout(() => {
                    if (ember.parentNode) {
                        ember.parentNode.removeChild(ember);
                    }
                }, 10000);
            }

            function createAsh() {
                const ash = document.createElement('div');
                ash.className = 'ash';
                ash.style.left = Math.random() * 100 + '%';
                ash.style.setProperty('--ash-drift', (Math.random() - 0.5) * 100 + 'px');
                ash.style.animationDuration = (Math.random() * 3 + 8) + 's';
                ash.style.animationDelay = Math.random() * 3 + 's';

                particlesContainer.appendChild(ash);

                setTimeout(() => {
                    if (ash.parentNode) {
                        ash.parentNode.removeChild(ash);
                    }
                }, 12000);
            }

            setInterval(createEmber, 200);
            setInterval(createAsh, 800);

            for (let i = 0; i < 15; i++) {
                setTimeout(createEmber, i * 100);
            }
            for (let i = 0; i < 8; i++) {
                setTimeout(createAsh, i * 300);
            }
        }

        // Add click effects to tier cards
        function setupTierCards() {
            document.querySelectorAll('.monthly-plan').forEach(card => {
                card.addEventListener('click', function () {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                        window.open('https://gahweni.com/Dark1Vergil?tab=2', '_blank');
                    }, 150);
                });
            });

            document.querySelectorAll('.extended-plan').forEach(card => {
                card.addEventListener('click', function () {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                        window.open('https://gahweni.com/Dark1Vergil', '_blank');
                    }, 150);
                });
            });
        }

        // Animate cards in sequence
        function animateCards() {
            const monthlyCards = document.querySelectorAll('.monthly-tiers .tier-card');
            const extendedCards = document.querySelectorAll('.multi-month-tiers .tier-card');

            [...monthlyCards, ...extendedCards].forEach(card => {
                card.classList.remove('animate-in');
            });

            monthlyCards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('animate-in');
                }, 300 + (index * 200));
            });

            extendedCards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('animate-in');
                }, 900 + (index * 200));
            });
        }

        // Load language preference
        function loadLanguagePreference() {
            const savedLanguage = localStorage.getItem('preferredLanguage');
            if (savedLanguage && savedLanguage !== currentLanguage) {
                // Set language without animation on load
                currentLanguage = savedLanguage;
                if (currentLanguage === 'ar') {
                    document.body.classList.add('arabic-mode');
                    document.documentElement.dir = 'rtl';
                } else {
                    document.body.classList.remove('arabic-mode');
                    document.documentElement.dir = 'ltr';
                }
                updateLanguageContent();
            }
        }

        // Update games per page when window resizes
        window.addEventListener('resize', function () {
            const newGamesPerPage = window.innerWidth <= 768 ? 14 : 20;
            if (newGamesPerPage !== gamesPerPage) {
                gamesPerPage = newGamesPerPage;
                updatePagination();
                displayCurrentPage();
            }
        });

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function () {
            loadLanguagePreference();
            createFireEffect();
            animateCards();
            setupTierCards();
            initializeMusic();
            loadGameData();
            updateLanguageContent();

            // Fade in page after everything is loaded
            setTimeout(() => {
                document.body.classList.add('loaded');
                const overlay = document.getElementById('pageOverlay');
                overlay.classList.add('fade-out');

                // Remove overlay after fade completes
                setTimeout(() => {
                    if (overlay.parentNode) {
                        overlay.parentNode.removeChild(overlay);
                    }
                }, 2000);
            }, 1000);
        });
        // Guide images data
        const guideImages = {
            en: [
                'https://i.imgur.com/XgNYMvT.jpeg', // First image (same for both)
                'https://i.imgur.com/rbd0CKW.png',
                'https://i.imgur.com/FOicUjx.png',
                'https://i.imgur.com/dYRmh0m.png',
                'https://i.imgur.com/x4tcSv2.png',
                'https://i.imgur.com/QWt80E1.png',
                'https://i.imgur.com/CeZJ6fZ.png'
            ],
            ar: [
                'https://i.imgur.com/XgNYMvT.jpeg', // First image (same for both)
                'https://i.imgur.com/dtpcZHD.png',
                'https://i.imgur.com/ZTRUBxT.png',
                'https://i.imgur.com/8sjzi64.png',
                'https://i.imgur.com/3BVpHPH.png',
                'https://i.imgur.com/yiZXSZs.png',
                'https://i.imgur.com/46DESS3.png'
            ]
        };
        let currentGuideIndex = 0;
        let currentGuideLightboxIndex = 0;
        // Add these variables after the other declarations
        let mobileMenuTimeout = null;
        let mobileMenuFadeTimeout = null;

        // Game Page Functionality with Advanced Features
        let allGameData = [];
let gamePageAudio = null;
let originalAudio = null;
let originalVolume = 0.5;
let youtubePlayer = null; // Add this line
let isVideoPlaying = false; // Add this line
let currentVideoStart = null; // Start boundary for current video
let currentVideoEnd = null; // End boundary for current video
let videoMonitorInterval = null; // Interval to monitor video position

        // Enhanced game information database
        const gameInfo = {
            'Final Fantasy X': {
                releaseDate: 'July 19, 2001',
                platform: 'PlayStation 2',
                genre: 'Japanese Role-Playing Game (JRPG)',
                developer: 'Square',
                length: '46-60 hours',
                story: 'Experience the epic journey of Tidus, a star blitzball player, as he finds himself in the mystical world of Spira alongside summoner Yuna on her pilgrimage to defeat the colossal menace known as Sin.',
                rating: '92/100',
                musicUrl: 'https://archive.org/download/FinalFantasyXOST/14%20-%20To%20Zanarkand.mp3',
                backgroundImage: null
            },
            'Chrono Trigger': {
                releaseDate: 'March 11, 1995',
                platform: 'Super Nintendo',
                genre: 'Japanese Role-Playing Game (JRPG)',
                developer: 'Square',
                length: '20-25 hours',
                story: 'A group of adventurers travel through time to prevent a global catastrophe. Featuring multiple endings and time periods spanning from 65,000,000 BC to 2300 AD.',
                rating: '95/100',
                musicUrl: 'https://archive.org/download/ChronoTriggerOST/01%20-%20Chrono%20Trigger.mp3',
                backgroundImage: null
            },
            'Secret of Mana': {
                releaseDate: 'August 6, 1993',
                platform: 'Super Nintendo',
                genre: 'Action RPG',
                developer: 'Square',
                length: '15-20 hours',
                story: 'A young boy pulls a rusty sword from a stone and sets off a chain of events that leads him on an epic quest to save the world from the empire and restore the power of Mana.',
                rating: '89/100',
                musicUrl: 'https://archive.org/download/SecretOfManaOST/01%20-%20Fear%20of%20the%20Heavens.mp3',
                backgroundImage: null
            }
        };



        // Convert CriticScore to 1-5 stars
        function convertToStars(score) {
            if (!score || score === 0) return '⭐';
            if (score <= 20) return '⭐';
            if (score <= 40) return '⭐⭐';
            if (score <= 60) return '⭐⭐⭐';
            if (score <= 80) return '⭐⭐⭐⭐';
            return '⭐⭐⭐⭐⭐';
        }

        // Get first item from array or return empty string
        function getFirstItem(itemList) {
            if (Array.isArray(itemList) && itemList.length > 0) {
                return itemList[0];
            }
            if (typeof itemList === 'string') {
                return itemList;
            }
            return '';
        }

        // Load game data from archive.org
        async function loadGameData() {
    try {
        const response = await fetch(`https://ia903108.us.archive.org/0/items/retroindex/retroindex.json?t=${Date.now()}`);
        const retroData = await response.json();
        
        // Make retroData globally accessible for language switching
        window.retroData = retroData;
        
        // Debug: Check a few games
        console.log('Total games loaded:', retroData.length);
        console.log('First 3 games with YouTube URLs:', 
            retroData.filter(game => game.YouTubeUrl).slice(0, 3).map(game => ({
                name: game.Name,
                youtube: game.YouTubeUrl
            }))
        );

                
                
                // Process the data to match our site's format
allGameData = retroData.map(game => ({
    name: game.Name || "Unknown Game",
    sortingName: game.SortingName || game.Name || "Unknown Game",
    cover: game.CoverUrl || "",
    background: game.BackgroundUrl || "",
    music: game.MusicUrl || "",
    story: game.Description || "Story information not available.",
    releaseDate: game.ReleaseDate || "Unknown",
    platform: getFirstItem(game.PlatformNames) || "Unknown",
    genre: getFirstItem(game.GenreNames) || "Unknown", 
    developer: getFirstItem(game.DeveloperNames) || "Unknown",
    rating: convertToStars(game.CriticScore),
    youtubeUrl: game.YouTubeUrl || "",
    videoStart: game.videoStart || null,
    videoEnd: game.videoEnd || null
})).sort((a, b) => a.sortingName.localeCompare(b.sortingName));
// Debug: Check if YouTube URLs are being loaded
console.log('Sample game with YouTube URL:', allGameData.find(game => game.youtubeUrl));
                
                
                // Also use this data for the game covers display
                allGames = allGameData.map(game => ({
                    name: game.name,
                    cover: game.cover,
                    sortingName: game.sortingName || game.name,
                    searchName: game.name.toLowerCase()
                })).sort((a, b) => a.sortingName.localeCompare(b.sortingName));
                
                filteredGames = [...allGames];
                updatePagination();
                displayCurrentPage();
                
            } catch (error) {
                // Fallback to placeholder games
                createPlaceholderGames();
            }
        }





        function normalizeGameName(name) {
            return name.toLowerCase()
                .replace(/[^\w\s]/g, '')
                .replace(/\s+/g, ' ')
                .trim();
        }

        function openGamePage(gameName, coverUrl, gameCardElement, youtubeUrl = '') {
            // Show fullscreen loading immediately to block all interactions
            const fullscreenLoading = document.getElementById('fullscreenLoading');
            fullscreenLoading.classList.add('active');
            
            // Get all the DOM elements we'll need
            const overlay = document.getElementById('gamePageOverlay');
            const cover = document.getElementById('gamePageCover');
            const story = document.getElementById('gameStory');
            const releaseDate = document.getElementById('gameReleaseDate');
            const platform = document.getElementById('gamePlatform');
            const genre = document.getElementById('gameGenre');
            const developer = document.getElementById('gameDeveloper');
            const length = document.getElementById('gameLength');
            const rating = document.getElementById('gameRating');

            // Find game data from enhanced database
            const normalizedSearchName = normalizeGameName(gameName);

            let gameData = null;
            if (allGameData && allGameData.length > 0) {
                gameData = allGameData.find(game => {
                    const normalizedGameName = normalizeGameName(game.name);
                    return normalizedGameName === normalizedSearchName;
                });
                
                if (!gameData) {
                    // Try matching with original names (case-insensitive only)
                    gameData = allGameData.find(game => {
                        return game.name.toLowerCase() === gameName.toLowerCase();
                    });
                    
                    if (!gameData) {
                        // Try matching by removing only specific problematic characters
                        const cleanSearchName = gameName.toLowerCase().replace(/[\.\/]/g, '').replace(/\s+/g, ' ').trim();
                        gameData = allGameData.find(game => {
                            const cleanGameName = game.name.toLowerCase().replace(/[\.\/]/g, '').replace(/\s+/g, ' ').trim();
                            return cleanGameName === cleanSearchName;
                        });
                    }
                    
                    if (gameData) {
                    }
                }
                
            }

            // Get extended info from gameInfo database
            const info = gameInfo[gameName] || {};
            
            // Check if mobile
            const isMobile = window.innerWidth <= 768;
            
            // Use background from JSON data only
            if (gameData && gameData.background && !isMobile) {
                info.backgroundImage = gameData.background;
            } else {
                info.backgroundImage = null;
            }
            // On mobile, explicitly prevent background images
            if (isMobile) {
                info.backgroundImage = null;
            }
            
            // Use music from JSON data
            if (gameData && gameData.music) {
                info.musicUrl = gameData.music;
            }
            
            // Find dynamic music for this game
            if (info.musicUrl) {
            }

            // Set basic info immediately
            cover.src = coverUrl;
            cover.alt = gameName;
            
            // Add click handler ONLY for gamePageCover trailer animation
if (cover.id === 'gamePageCover') {
    // Store YouTube URL and video timing as data attributes
    cover.dataset.youtubeUrl = youtubeUrl || (gameData ? gameData.youtubeUrl : '');
    cover.dataset.videoStart = gameData ? gameData.videoStart : null;
    cover.dataset.videoEnd = gameData ? gameData.videoEnd : null;
    cover.onclick = () => playGameCoverTrailer(gameName);
}


            // Hide background elements including games-specific elements
            const backgroundElements = document.querySelectorAll('.content-section, .header, .nav, .mobile-menu-btn, .language-toggle');
            backgroundElements.forEach(element => {
                element.style.transition = 'opacity 0.6s ease-in-out';
                element.style.opacity = '0';
            });

            // Force hide games-related elements immediately
            const gamesElements = document.querySelectorAll('.search-container, .game-card, .pagination, .games-section');
            gamesElements.forEach(element => {
                element.style.opacity = '0';
                element.style.pointerEvents = 'none';
            });

            // Set game information from enhanced database
            if (gameData) {
                // Store current game data for language switching (including game name)
                currentGameData = {...gameData, originalName: gameName};
                
                // Reset story language to English for new games
                storyLanguage = 'en';
                
                // Reset tabs to default story tab
                const tabs = document.querySelectorAll('.game-tab');
                const tabContents = document.querySelectorAll('.tab-content');
                
                // Remove active class from all tabs and contents
                tabs.forEach(tab => tab.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // Set story tab and content as active
                const storyTab = document.querySelector('[data-tab="story"]');
                const storyContent = document.getElementById('storyTab');
                if (storyTab) storyTab.classList.add('active');
                if (storyContent) {
                    storyContent.classList.add('active');
                    storyContent.style.opacity = '1';
                    storyContent.style.transform = 'translateY(0)';
                }
                
                // Set story content based on current language preference
                // Priority: exact match first, then partial matching only if needed
                let rawGameData = window.retroData?.find(game => 
                    game.Name && gameName && game.Name.toLowerCase() === gameName.toLowerCase()
                );
                
                // If no exact match, try partial matching
                if (!rawGameData) {
                    rawGameData = window.retroData?.find(game => 
                        game.Name && gameName && (
                            game.Name.toLowerCase().includes(gameName.toLowerCase()) ||
                            gameName.toLowerCase().includes(game.Name.toLowerCase())
                        )
                    );
                }
                
                // Don't override story content if language switching is in progress
                if (!isLanguageSwitching) {
                    if (storyLanguage === 'ar' && rawGameData && rawGameData.DescriptionArabic) {
                        story.innerHTML = rawGameData.DescriptionArabic;
                        story.classList.add('arabic');
                    } else {
                        // Always show English story and ensure Arabic class is removed
                        story.innerHTML = rawGameData && rawGameData.Description ? rawGameData.Description : gameData.story;
                        story.classList.remove('arabic');
                    }
                    story.classList.add('story-visible');
                } else {
                    // Still make story visible but don't change content
                    story.classList.add('story-visible');
                }
                
                releaseDate.textContent = gameData.releaseDate;
                platform.textContent = gameData.platform;
                genre.textContent = gameData.genre;
                developer.textContent = gameData.developer;
                length.textContent = gameData.length;
                rating.textContent = gameData.rating;
            } else {
                currentGameData = null;
                storyLanguage = 'en';
                story.classList.remove('arabic');
                story.innerHTML = 'Game information not available in database.';
                story.classList.add('story-visible');
                releaseDate.textContent = 'Unknown';
                platform.textContent = 'Unknown';
                genre.textContent = 'Unknown';
                developer.textContent = 'Unknown';
                length.textContent = 'Unknown';
                rating.textContent = 'Unrated';
            }

            // Track loading states
            let backgroundLoaded = false;
            let musicLoaded = false;
            let coverLoaded = false;

            // Function to check if all assets are loaded
            function checkAllAssetsLoaded() {
                const backgroundNeeded = !!info.backgroundImage;
                const musicNeeded = !!info.musicUrl;
                
                const allLoaded = (!backgroundNeeded || backgroundLoaded) && 
                                (!musicNeeded || musicLoaded) && 
                                coverLoaded;

                if (allLoaded) {
                    startGamePageAnimation();
                }
            }

            // Function to start the game page animation
            function startGamePageAnimation() {
                // Hide fullscreen loading
                fullscreenLoading.classList.remove('active');
                
                // Only create background overlay on desktop (not mobile)
                if (!isMobile) {
                    // Create black background first (matching loading screen)
                    const blackOverlay = document.createElement('div');
                    blackOverlay.style.cssText = `
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: #000000;
                        z-index: 9998;
                        opacity: 1;
                    `;
                    blackOverlay.id = 'gamePageBlackBg';
                    document.body.appendChild(blackOverlay);
                    
                    if (info.backgroundImage) {
                        // Create background overlay with game-specific image
                        const bgOverlay = document.createElement('div');
                        bgOverlay.style.position = 'fixed';
                        bgOverlay.style.top = '0';
                        bgOverlay.style.left = '0';
                        bgOverlay.style.width = '100%';
                        bgOverlay.style.height = '100%';
                        bgOverlay.style.backgroundImage = `url(${info.backgroundImage})`;
                        bgOverlay.style.backgroundSize = 'cover';
                        bgOverlay.style.backgroundPosition = 'center';
                        bgOverlay.style.backgroundRepeat = 'no-repeat';
                        bgOverlay.style.zIndex = '9999';
                        bgOverlay.style.opacity = '0';
                        bgOverlay.style.transition = 'opacity 1.2s ease-in-out';
                        bgOverlay.id = 'gamePageBg';

                        document.body.appendChild(bgOverlay);

                        // Fade from black to background smoothly
                        setTimeout(() => {
                            bgOverlay.style.opacity = '1';
                        }, 300);
                        
                        // Remove black overlay after background appears
                        setTimeout(() => {
                            blackOverlay.style.opacity = '0';
                            setTimeout(() => blackOverlay.remove(), 500);
                        }, 1500);
                    } else {
                        // Create simple blurred background from cover (desktop fallback)
                        const bgOverlay = document.createElement('div');
                        bgOverlay.style.cssText = `
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background: url('${coverUrl}') center/cover;
                            filter: blur(20px) brightness(0.3);
                            z-index: 9999;
                            opacity: 0;
                            transition: opacity 1.2s ease-in-out;
                        `;
                        bgOverlay.id = 'gamePageBg';
                        document.body.appendChild(bgOverlay);

                        // Fade from black to background smoothly
                        setTimeout(() => {
                            bgOverlay.style.opacity = '1';
                        }, 300);
                        
                        // Remove black overlay after background appears
                        setTimeout(() => {
                            blackOverlay.style.opacity = '0';
                            setTimeout(() => blackOverlay.remove(), 500);
                        }, 1500);
                    }
                }
                // On mobile: no background overlay is created at all

                // Show overlay
                overlay.classList.add('active');
                
                // Prepare content animation
                const gameContent = overlay.querySelector('.game-page-content');
                gameContent.style.opacity = '0';
                gameContent.style.transform = 'scale(0.8)';
                gameContent.style.transition = 'opacity 0.8s ease-in-out, transform 0.8s ease-in-out';
                
                // Animate content in
                setTimeout(() => {
                    gameContent.style.opacity = '1';
                    gameContent.style.transform = 'scale(1)';
                    
                    // Initialize tabs after content is visible
                    setTimeout(() => {
                        initGameTabs();
                    }, 200);
                }, 100);
            }

            // Preload background image if available
            if (info.backgroundImage && !isMobile) {
                const bgImg = new Image();
                bgImg.onload = () => {
                    backgroundLoaded = true;
                    checkAllAssetsLoaded();
                };
                bgImg.onerror = () => {
                    backgroundLoaded = true;
                    checkAllAssetsLoaded();
                };
                bgImg.src = info.backgroundImage;
            } else {
                backgroundLoaded = true;
            }

            // Preload music if available
            if (info.musicUrl) {
                const audio = new Audio();
                audio.preload = 'auto';
                audio.addEventListener('canplaythrough', () => {
                    musicLoaded = true;
                    checkAllAssetsLoaded();
                });
                audio.addEventListener('error', () => {
                    musicLoaded = true; // Consider failed as loaded to continue
                    checkAllAssetsLoaded();
                });
                audio.src = info.musicUrl;
            } else {
                musicLoaded = true;
            }

            // Preload cover image
            const coverImg = new Image();
            coverImg.onload = () => {
                coverLoaded = true;
                checkAllAssetsLoaded();
            };
            coverImg.onerror = () => {
                coverLoaded = true;
                checkAllAssetsLoaded();
            };
            coverImg.src = coverUrl;

            // Handle music transition
            if (info.musicUrl) {
                // Store original music and its volume
                originalAudio = document.getElementById('backgroundMusic');
                if (originalAudio) {
                    originalVolume = originalAudio.volume;
                }
                
                // Fade out current music smoothly
                if (originalAudio && !originalAudio.paused) {
                    let currentVolume = originalAudio.volume;
                    const fadeOutInterval = setInterval(() => {
                        currentVolume -= 0.02;
                        if (currentVolume <= 0) {
                            originalAudio.volume = 0;
                            originalAudio.pause();
                            clearInterval(fadeOutInterval);
                            
                            // Start new music
                            gamePageAudio = new Audio(info.musicUrl);
                            gamePageAudio.loop = true;
                            gamePageAudio.volume = 0;
                            gamePageAudio.play().then(() => {
                                // Smooth fade in new music
                                let newVolume = 0;
                                const fadeInInterval = setInterval(() => {
                                    newVolume += 0.01;
                                    if (newVolume >= 0.15) {
                                        gamePageAudio.volume = 0.15;
                                        clearInterval(fadeInInterval);
                                    } else {
                                        gamePageAudio.volume = newVolume;
                                    }
                                }, 80);
                            }).catch(() => {
                                // If autoplay fails, try on user interaction
                                gamePageAudio.volume = 0.15;
                            });
                        } else {
                            originalAudio.volume = currentVolume;
                        }
                    }, 80);
                } else {
                    // No original music, just start new music with smooth fade in
                    gamePageAudio = new Audio(info.musicUrl);
                    gamePageAudio.loop = true;
                    gamePageAudio.volume = 0;
                    gamePageAudio.play().then(() => {
                        // Smooth fade in
                        let newVolume = 0;
                        const fadeInInterval = setInterval(() => {
                            newVolume += 0.01;
                            if (newVolume >= 0.15) {
                                gamePageAudio.volume = 0.15;
                                clearInterval(fadeInInterval);
                            } else {
                                gamePageAudio.volume = newVolume;
                            }
                        }, 80);
                    }).catch(() => {
                        // If autoplay fails, set volume directly
                        gamePageAudio.volume = 0.15;
                    });
                }
            }

            // Removed timeout fallback - will wait until all assets actually load

            // Prevent page scroll
            document.body.style.overflow = 'hidden';
        }


        function closeGamePage(event) {
            // Only close if clicking on overlay, not content
            if (event.target === event.currentTarget) {
                const overlay = document.getElementById('gamePageOverlay');
                
                // Remove background overlay - check both by ID and all potential backgrounds
                const bgOverlay = document.getElementById('gamePageBg');
                const blackOverlay = document.getElementById('gamePageBlackBg');
                
                if (bgOverlay) {
                    bgOverlay.style.opacity = '0';
                    setTimeout(() => {
                        bgOverlay.remove();
                    }, 800);
                }
                
                if (blackOverlay) {
                    blackOverlay.style.opacity = '0';
                    setTimeout(() => {
                        blackOverlay.remove();
                    }, 800);
                }
                
                // Fallback: remove any lingering background overlays
                const allBgOverlays = document.querySelectorAll('[id="gamePageBg"], [id="gamePageBlackBg"]');
                allBgOverlays.forEach(bg => {
                    bg.style.opacity = '0';
                    setTimeout(() => bg.remove(), 800);
                });
                
                // Cleanup video overlay and restore cover if trailer is playing
                const cover = document.getElementById('gamePageCover');
                if (cover) {
                    const videoOverlay = cover.nextElementSibling;
                    if (videoOverlay && videoOverlay.classList.contains('video-overlay')) {
                        videoOverlay.remove();
                    }
                    // Restore cover to normal state
                    cover.classList.remove('fade-black', 'video-mode');
                }
                
                // Handle music transition back with smooth fading
                if (gamePageAudio) {
                    let currentVolume = gamePageAudio.volume;
                    const fadeOutInterval = setInterval(() => {
                        currentVolume -= 0.02;
                        if (currentVolume <= 0) {
                            gamePageAudio.volume = 0;
                            gamePageAudio.pause();
                            gamePageAudio = null;
                            clearInterval(fadeOutInterval);
                            
                            // Restore original music with smooth fade in
                            if (originalAudio) {
                                originalAudio.volume = 0;
                                originalAudio.play().then(() => {
                                    let newVolume = 0;
                                    const fadeInInterval = setInterval(() => {
                                        newVolume += 0.02;
                                        if (newVolume >= originalVolume) {
                                            originalAudio.volume = originalVolume;
                                            clearInterval(fadeInInterval);
                                        } else {
                                            originalAudio.volume = newVolume;
                                        }
                                    }, 80);
                                }).catch(() => {
                                    originalAudio.volume = originalVolume;
                                });
                            }
                        } else {
                            gamePageAudio.volume = currentVolume;
                        }
                    }, 80);
                }
                
                // Hide overlay
                overlay.classList.remove('active');
                
                // Restore background elements
                setTimeout(() => {
                    const backgroundElements = document.querySelectorAll('.content-section, .header, .nav, .mobile-menu-btn, .language-toggle');
                    backgroundElements.forEach(element => {
                        element.style.transition = 'opacity 0.6s ease-in-out';
                        element.style.opacity = '1';
                    });

                    // Restore games-related elements
                    const gamesElements = document.querySelectorAll('.search-container, .game-card, .pagination, .games-section');
                    gamesElements.forEach(element => {
                        element.style.opacity = '1';
                        element.style.pointerEvents = 'auto';
                    });
                }, 100);
                
                // Allow page scroll
                document.body.style.overflow = '';
                
                // Final safety check - remove any remaining background overlays after delay
                setTimeout(() => {
                    const remainingBgs = document.querySelectorAll('[id="gamePageBg"], [id="gamePageBlackBg"]');
                    remainingBgs.forEach(bg => bg.remove());
                }, 1000);
            }
        }

        // Audio Visualizer and Mute Functionality with Smooth Fading
        function toggleMute() {
            const audio = document.getElementById('backgroundMusic');
            const visualizer = document.getElementById('audioVisualizer');
            const mobileVisualizers = document.querySelectorAll('.mobile-mute-btn .audio-visualizer');

            if (isMuted) {
                // Unmuting - fade in
                audio.muted = false;
                audio.volume = 0;
                
                // Update visual state
                visualizer.classList.remove('muted');
                mobileVisualizers.forEach(v => v.classList.remove('muted'));
                
                // Smooth fade in
                let targetVolume = originalVolume || 0.2;
                let currentVol = 0;
                const fadeInInterval = setInterval(() => {
                    currentVol += 0.02;
                    if (currentVol >= targetVolume) {
                        audio.volume = targetVolume;
                        clearInterval(fadeInInterval);
                    } else {
                        audio.volume = currentVol;
                    }
                }, 50);
                
                isMuted = false;
            } else {
                // Muting - fade out
                let currentVol = audio.volume;
                originalVolume = currentVol; // Store current volume
                
                // Update visual state
                visualizer.classList.add('muted');
                mobileVisualizers.forEach(v => v.classList.add('muted'));
                
                // Smooth fade out
                const fadeOutInterval = setInterval(() => {
                    currentVol -= 0.02;
                    if (currentVol <= 0) {
                        audio.volume = 0;
                        audio.muted = true;
                        clearInterval(fadeOutInterval);
                    } else {
                        audio.volume = currentVol;
                    }
                }, 50);
                
                isMuted = true;
            }
        }

        // Initialize music
        function initializeMusic() {
            const audio = document.getElementById('backgroundMusic');
            audio.volume = 0.2;

            function attemptAutoPlay() {
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                    }).catch((error) => {
                        setupUserInteractionFallback();
                    });
                }
            }

            function setupUserInteractionFallback() {
                const startMusic = () => {
                    audio.play().then(() => {
                        document.removeEventListener('click', startMusic);
                        document.removeEventListener('keydown', startMusic);
                        document.removeEventListener('touchstart', startMusic);
                    }).catch(() => { });
                };

                document.addEventListener('click', startMusic);
                document.addEventListener('keydown', startMusic);
                document.addEventListener('touchstart', startMusic);
            }

            attemptAutoPlay();
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeMusic();
        });

        // Function to animate gamePageCover to trailer - ONLY targets gamePageCover
async function playGameCoverTrailer(gameName) {
    const cover = document.getElementById('gamePageCover');
    
    // Safety check - only proceed if this is gamePageCover
    if (!cover || cover.id !== 'gamePageCover') {
        return;
    }

    // Check if video overlay already exists
    let videoOverlay = cover.nextElementSibling;
    if (videoOverlay && videoOverlay.classList.contains('video-overlay')) {
        // If video is showing, hide it and return to cover
        if (videoOverlay.classList.contains('show')) {
            closeVideoTrailer();
            return;
        }
    }

    // Get YouTube URL and timing from data attributes
    const youtubeUrl = cover.dataset.youtubeUrl;
    const videoStart = cover.dataset.videoStart !== 'null' ? parseFloat(cover.dataset.videoStart) : null;
    const videoEnd = cover.dataset.videoEnd !== 'null' ? parseFloat(cover.dataset.videoEnd) : null;
    
    // Store video boundaries for keyboard controls
    currentVideoStart = videoStart;
    currentVideoEnd = videoEnd;

    if (!youtubeUrl) {
        // No YouTube URL found for this game
        console.log('No trailer available for this game');
        return;
    }

    // Extract video ID from YouTube URL
    const videoId = extractYouTubeVideoId(youtubeUrl);
    if (!videoId) {
        console.log('Invalid YouTube URL format');
        return;
    }

    // Step 1: Fade cover to black and fade background music down
    cover.classList.add('fade-black');
    fadeBackgroundMusicDown();

    // Step 2: After fade completes, resize and show video
    setTimeout(() => {
        // Resize cover to 16:9 while keeping it black
        cover.classList.add('video-mode');
        
        // Create video overlay
        videoOverlay = document.createElement('div');
        videoOverlay.className = 'video-overlay';
        videoOverlay.innerHTML = `<div id="youtube-player"></div>`;
        
        // Add double-click to toggle fullscreen
        videoOverlay.addEventListener('dblclick', toggleVideoFullscreen);
        
        // Insert after gamePageCover
        cover.parentNode.insertBefore(videoOverlay, cover.nextSibling);
        
        // Show video after a brief delay
        setTimeout(() => {
            videoOverlay.classList.add('show');
            
            // Create YouTube player with start/end times
            const playerVars = {
                'autoplay': 1,
                'controls': 0,
                'showinfo': 0,
                'rel': 0,
                'iv_load_policy': 3,
                'modestbranding': 1,
                'disablekb': 0,
                'fs': 0,
                'loop': 1,
                'playlist': videoId
            };
            
            // Add start and end times if specified
            if (videoStart !== null) {
                playerVars.start = Math.floor(videoStart);
            }
            if (videoEnd !== null) {
                playerVars.end = Math.floor(videoEnd);
            }
            
            youtubePlayer = new YT.Player('youtube-player', {
                width: '100%',
                height: '100%',
                videoId: videoId,
                playerVars: playerVars,
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
            
            // Remove any existing keyboard event listener and add new one
            document.removeEventListener('keydown', handleVideoKeyboard);
            document.addEventListener('keydown', handleVideoKeyboard);
            
        }, 100);
        
    }, 800); // Wait for fade animation
}

// YouTube player ready callback
function onPlayerReady(event) {
    // Ensure video starts unmuted
    event.target.unMute();
    event.target.setVolume(100);
    
    // Set to highest available quality
    const availableQualities = event.target.getAvailableQualityLevels();
    if (availableQualities && availableQualities.length > 0) {
        event.target.setPlaybackQuality(availableQualities[0]);
    }
    
    event.target.playVideo();
    isVideoPlaying = true;
}

// YouTube player state change callback
function onPlayerStateChange(event) {
    if (event.data == YT.PlayerState.PLAYING) {
        isVideoPlaying = true;
        
        // Ensure highest quality is maintained
        const availableQualities = event.target.getAvailableQualityLevels();
        if (availableQualities && availableQualities.length > 0) {
            const currentQuality = event.target.getPlaybackQuality();
            if (currentQuality !== availableQualities[0]) {
                event.target.setPlaybackQuality(availableQualities[0]);
            }
        }
        
        // Start monitoring video position for boundaries
        if (videoMonitorInterval) {
            clearInterval(videoMonitorInterval);
        }
        
        videoMonitorInterval = setInterval(() => {
            if (youtubePlayer && isVideoPlaying) {
                const currentTime = youtubePlayer.getCurrentTime();
                
                // Check if video has gone beyond end boundary
                if (currentVideoEnd !== null && currentTime >= currentVideoEnd) {
                    // Reset to start or pause depending on loop setting
                    if (currentVideoStart !== null) {
                        youtubePlayer.seekTo(currentVideoStart, true);
                    } else {
                        youtubePlayer.seekTo(0, true);
                    }
                }
                
                // Check if video has gone before start boundary (shouldn't happen but safety check)
                if (currentVideoStart !== null && currentTime < currentVideoStart) {
                    youtubePlayer.seekTo(currentVideoStart, true);
                }
            }
        }, 100); // Check every 100ms
        
    } else if (event.data == YT.PlayerState.PAUSED) {
        isVideoPlaying = false;
        
        // Stop monitoring when paused
        if (videoMonitorInterval) {
            clearInterval(videoMonitorInterval);
            videoMonitorInterval = null;
        }
    } else if (event.data == YT.PlayerState.ENDED) {
        isVideoPlaying = false;
        
        // Handle video end - restart at beginning of segment
        if (currentVideoStart !== null) {
            youtubePlayer.seekTo(currentVideoStart, true);
            youtubePlayer.playVideo();
        }
    }
}

// Handle keyboard controls for video
function handleVideoKeyboard(e) {
    if (!youtubePlayer) return;
    
    // Don't handle keyboard if user is typing in an input field
    const activeElement = document.activeElement;
    if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA' || activeElement.isContentEditable)) {
        return;
    }
    
    switch(e.key) {
        case ' ':
        case 'Spacebar':
            // Prevent default behavior only for handled keys
            e.preventDefault();
            // Toggle mute/unmute instantly
            if (youtubePlayer.isMuted()) {
                // Unmute video and stop background music
                youtubePlayer.unMute();
                if (gamePageAudio && !gamePageAudio.paused) {
                    gamePageAudio.volume = 0;
                } else if (originalAudio && !originalAudio.paused) {
                    originalAudio.volume = 0;
                } else {
                    const bgMusic = document.getElementById('backgroundMusic');
                    if (bgMusic && !bgMusic.paused) {
                        bgMusic.volume = 0;
                    }
                }
            } else {
                // Mute video and start background music
                youtubePlayer.mute();
                if (gamePageAudio && !gamePageAudio.paused) {
                    gamePageAudio.volume = 0.15;
                } else if (originalAudio && !originalAudio.paused) {
                    originalAudio.volume = originalVolume || 0.15;
                } else {
                    const bgMusic = document.getElementById('backgroundMusic');
                    if (bgMusic && !bgMusic.paused) {
                        bgMusic.volume = 0.15;
                    }
                }
            }
            break;
            
        case 'ArrowLeft':
            e.preventDefault();
            // Rewind 5 seconds with boundary check
            const currentTimeLeft = youtubePlayer.getCurrentTime();
            const minTime = currentVideoStart !== null ? currentVideoStart : 0;
            youtubePlayer.seekTo(Math.max(minTime, currentTimeLeft - 5), true);
            break;
            
        case 'ArrowRight':
            e.preventDefault();
            // Forward 5 seconds with boundary check
            const currentTimeRight = youtubePlayer.getCurrentTime();
            const duration = youtubePlayer.getDuration();
            const maxTime = currentVideoEnd !== null ? currentVideoEnd : duration;
            youtubePlayer.seekTo(Math.min(maxTime, currentTimeRight + 5), true);
            break;
            
        case 'f':
        case 'F':
            e.preventDefault();
            // Toggle fullscreen
            toggleVideoFullscreen();
            break;
            
        case 'Escape':
            e.preventDefault();
            // Exit fullscreen first, then close video if not in fullscreen
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                closeVideoTrailer();
            }
            break;
    }
}

// Function to close video trailer
function closeVideoTrailer() {
    const cover = document.getElementById('gamePageCover');
    const videoOverlay = cover.nextElementSibling;
    
    if (videoOverlay && videoOverlay.classList.contains('video-overlay')) {
        // Remove keyboard listener
        document.removeEventListener('keydown', handleVideoKeyboard);
        
        // Stop and destroy YouTube player
        if (youtubePlayer) {
            youtubePlayer.stopVideo();
            youtubePlayer.destroy();
            youtubePlayer = null;
        }
        
        // Clear video boundaries and monitoring
        currentVideoStart = null;
        currentVideoEnd = null;
        
        if (videoMonitorInterval) {
            clearInterval(videoMonitorInterval);
            videoMonitorInterval = null;
        }
        
        videoOverlay.classList.remove('show');
        cover.classList.remove('fade-black', 'video-mode');
        
        // Fade background music back up
        fadeBackgroundMusicUp();
        
        setTimeout(() => {
            videoOverlay.remove();
        }, 500);
        
        isVideoPlaying = false;
    }
}

        // Function to fade background music down for trailer
        function fadeBackgroundMusicDown() {
            // Try to fade gamePageAudio first
            if (gamePageAudio && !gamePageAudio.paused && gamePageAudio.volume > 0) {
                const fadeInterval = setInterval(() => {
                    if (gamePageAudio.volume > 0.01) {
                        gamePageAudio.volume -= 0.01;
                    } else {
                        gamePageAudio.volume = 0;
                        clearInterval(fadeInterval);
                    }
                }, 50);
            }
            // Also check for originalAudio in case gamePageAudio isn't ready
            else if (originalAudio && !originalAudio.paused && originalAudio.volume > 0) {
                const fadeInterval = setInterval(() => {
                    if (originalAudio.volume > 0.01) {
                        originalAudio.volume -= 0.01;
                    } else {
                        originalAudio.volume = 0;
                        clearInterval(fadeInterval);
                    }
                }, 50);
            }
            // Fallback: check for backgroundMusic element
            else {
                const bgMusic = document.getElementById('backgroundMusic');
                if (bgMusic && !bgMusic.paused && bgMusic.volume > 0) {
                    const fadeInterval = setInterval(() => {
                        if (bgMusic.volume > 0.01) {
                            bgMusic.volume -= 0.01;
                        } else {
                            bgMusic.volume = 0;
                            clearInterval(fadeInterval);
                        }
                    }, 50);
                }
            }
        }

        // Function to fade background music back up after trailer
        function fadeBackgroundMusicUp() {
            // Try to fade gamePageAudio first
            if (gamePageAudio && !gamePageAudio.paused) {
                const targetVolume = 0.15; // Default game page music volume
                const fadeInterval = setInterval(() => {
                    if (gamePageAudio.volume < targetVolume - 0.01) {
                        gamePageAudio.volume += 0.01;
                    } else {
                        gamePageAudio.volume = targetVolume;
                        clearInterval(fadeInterval);
                    }
                }, 50);
            }
            // Fallback to originalAudio
            else if (originalAudio && !originalAudio.paused) {
                const targetVolume = originalVolume || 0.15;
                const fadeInterval = setInterval(() => {
                    if (originalAudio.volume < targetVolume - 0.01) {
                        originalAudio.volume += 0.01;
                    } else {
                        originalAudio.volume = targetVolume;
                        clearInterval(fadeInterval);
                    }
                }, 50);
            }
            // Fallback to backgroundMusic element
            else {
                const bgMusic = document.getElementById('backgroundMusic');
                if (bgMusic && !bgMusic.paused) {
                    const targetVolume = 0.15;
                    const fadeInterval = setInterval(() => {
                        if (bgMusic.volume < targetVolume - 0.01) {
                            bgMusic.volume += 0.01;
                        } else {
                            bgMusic.volume = targetVolume;
                            clearInterval(fadeInterval);
                        }
                    }, 50);
                }
            }
        }

        // Function to toggle native browser fullscreen
        function toggleVideoFullscreen() {
            const videoOverlay = document.querySelector('#gamePageCover + .video-overlay');
            if (!videoOverlay) return;

            if (!document.fullscreenElement) {
                // Enter fullscreen
                videoOverlay.requestFullscreen().catch(err => {
                    console.log('Error attempting to enable fullscreen:', err);
                });
            } else {
                // Exit fullscreen
                document.exitFullscreen().catch(err => {
                    console.log('Error attempting to exit fullscreen:', err);
                });
            }
        }

        // Function to extract YouTube video ID from URL
function extractYouTubeVideoId(url) {
    if (!url) return null;
    
    // Handle various YouTube URL formats
    const patterns = [
        /(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,
        /youtube\.com\/v\/([^&\n?#]+)/
    ];
    
    for (const pattern of patterns) {
        const match = url.match(pattern);
        if (match && match[1]) {
            return match[1];
        }
    }
    
    return null;
}

        // Initialize all data on page load
        loadGameData();
    </script>
</body>
<!-- YouTube IFrame API -->
<script src="https://www.youtube.com/iframe_api"></script>

</html>
